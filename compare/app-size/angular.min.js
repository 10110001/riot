"use strict";var todomvc=angular.module("todomvc",[]);"use strict";todomvc.controller("TodoCtrl",function TodoCtrl(o,t,e,n){var i=o.todos=e.get();o.newTodo="";o.editedTodo=null;o.$watch("todos",function(t,d){o.remainingCount=n(i,{completed:false}).length;o.completedCount=i.length-o.remainingCount;o.allChecked=!o.remainingCount;if(t!==d){e.put(i)}},true);if(t.path()===""){t.path("/")}o.location=t;o.$watch("location.path()",function(t){o.statusFilter=t==="/active"?{completed:false}:t==="/completed"?{completed:true}:null});o.addTodo=function(){var t=o.newTodo.trim();if(!t.length){return}i.push({title:t,completed:false});o.newTodo=""};o.editTodo=function(t){o.editedTodo=t;o.originalTodo=angular.extend({},t)};o.doneEditing=function(t){o.editedTodo=null;t.title=t.title.trim();if(!t.title){o.removeTodo(t)}};o.revertEditing=function(t){i[i.indexOf(t)]=o.originalTodo;o.doneEditing(o.originalTodo)};o.removeTodo=function(o){i.splice(i.indexOf(o),1)};o.clearCompletedTodos=function(){o.todos=i=i.filter(function(o){return!o.completed})};o.markAll=function(o){i.forEach(function(t){t.completed=o})}});"use strict";todomvc.directive("todoBlur",function(){return function(o,t,e){t.bind("blur",function(){o.$apply(e.todoBlur)})}});"use strict";todomvc.directive("todoEscape",function(){var o=27;return function(t,e,n){e.bind("keydown",function(e){if(e.keyCode===o){t.$apply(n.todoEscape)}})}});"use strict";todomvc.directive("todoFocus",function todoFocus(o){return function(t,e,n){t.$watch(n.todoFocus,function(t){if(t){o(function(){e[0].focus()},0,false)}})}});"use strict";todomvc.factory("todoStorage",function(){var o="todos-angularjs";return{get:function(){return JSON.parse(localStorage.getItem(o)||"[]")},put:function(t){localStorage.setItem(o,JSON.stringify(t))}}});