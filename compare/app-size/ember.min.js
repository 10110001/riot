window.Todos=Ember.Application.create();Todos.ApplicationAdapter=DS.LSAdapter.extend({namespace:"todos-emberjs"});"use strict";Todos.TodoController=Ember.ObjectController.extend({isEditing:false,bufferedTitle:Ember.computed.oneWay("title"),actions:{editTodo:function(){this.set("isEditing",true)},doneEditing:function(){var e=this.get("bufferedTitle");if(Ember.isEmpty(e.trim())){Ember.run.debounce(this,this.send,"removeTodo",0)}else{var t=this.get("model");t.set("title",this.get("bufferedTitle"));t.save()}this.set("isEditing",false)},cancelEditing:function(){this.set("bufferedTitle",this.get("title"));this.set("isEditing",false)},removeTodo:function(){var e=this.get("model");e.deleteRecord();e.save()}}});"use strict";Todos.TodosController=Ember.ArrayController.extend({actions:{createTodo:function(){var e,t;e=this.get("newTitle");if(!e.trim()){return}t=this.store.createRecord("todo",{title:e,isCompleted:false});t.save();this.set("newTitle","")},clearCompleted:function(){var e=this.filterProperty("isCompleted",true);e.invoke("deleteRecord");e.invoke("save")}},remaining:function(){return this.filterProperty("isCompleted",false).get("length")}.property("@each.isCompleted"),remainingFormatted:function(){var e=this.get("remaining");var t=e===1?"item":"items";return"<strong>%@</strong> %@ left".fmt(e,t)}.property("remaining"),completed:function(){return this.filterProperty("isCompleted",true).get("length")}.property("@each.isCompleted"),hasCompleted:function(){return this.get("completed")>0}.property("completed"),allAreDone:function(e,t){if(t!==undefined){this.setEach("isCompleted",t);return t}else{return!!this.get("length")&&this.everyProperty("isCompleted",true)}}.property("@each.isCompleted")});"use strict";Todos.Todo=DS.Model.extend({title:DS.attr("string"),isCompleted:DS.attr("boolean"),saveWhenCompletedChanged:function(){this.save()}.observes("isCompleted")});"use strict";Todos.Router.map(function(){this.resource("todos",{path:"/"},function(){this.route("active");this.route("completed")})});Todos.TodosRoute=Ember.Route.extend({model:function(){return this.store.find("todo")}});Todos.TodosIndexRoute=Ember.Route.extend({setupController:function(){this.controllerFor("todos").set("filteredTodos",this.modelFor("todos"))}});Todos.TodosActiveRoute=Ember.Route.extend({setupController:function(){var e=this.store.filter("todo",function(e){return!e.get("isCompleted")});this.controllerFor("todos").set("filteredTodos",e)}});Todos.TodosCompletedRoute=Ember.Route.extend({setupController:function(){var e=this.store.filter("todo",function(e){return e.get("isCompleted")});this.controllerFor("todos").set("filteredTodos",e)}});"use strict";Todos.EditTodoView=Ember.TextField.extend({focusOnInsert:function(){this.$().focus()}.on("didInsertElement")});Ember.Handlebars.helper("edit-todo",Todos.EditTodoView);