"use strict";(function(t,n){var e={},i=[].slice;t.render=function(t,n){e[t]=e[t]||function(n){return t.replace(/(\{(\w+)\})/g,function(){var t=arguments[2];return n[t]||""})};return e[t](n)};t.observable=function(n){var e=t({});t.each(["on","one","trigger","off"],function(t,o){n[o]=function(r,u){if(t<2){e[o](r,function(t){var e=i.call(arguments,1);if(r.split(" ")[1])e.unshift(t.type);u.apply(n,e)})}else if(t===2){e.trigger(r,i.call(arguments,1))}else{e.off(r,u)}return n}});return n};n=t(n);var o;n.on("load",function(t){setTimeout(function(){if(!o)n.trigger("popstate")},1)}).on("popstate",function(t){if(!o)o=true});t.route=function(e){if(t.isFunction(e)){n.on("popstate",function(t,n){e(n||location.hash)})}else if(e!=location.hash){if(history.pushState)history.pushState("","",e);n.trigger("popstate",[e])}}})(jQuery,window);