"use strict";(function(t,e){var n={},r=[].slice;t.render=function(t,e){return t&&(n[t]=n[t]||new Function("_","return '"+t.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/'/g,"\\'").replace(/\{\s*(\w+)\s*\}/g,"' + (_.$1 || '') + '")+"'"))(e)};t.observable=function(e){var n=t({});t.each(["on","one","trigger","off"],function(t,i){e[i]=function(o,u){if(t<2){n[i](o,function(t){var n=r.call(arguments,1);if(o.split(" ")[1])n.unshift(t.type);u.apply(e,n)})}else if(t===2){n.trigger(o,r.call(arguments,1))}else{n.off(o,u)}return e}});return e};e=t(e);var i;e.on("load",function(t){setTimeout(function(){if(!i)e.trigger("popstate")},1)}).on("popstate",function(t){if(!i)i=true});t.route=function(n){if(t.isFunction(n)){e.on("popstate",function(t,e){n(e||location.hash)})}else if(n!=location.hash){if(history.pushState)history.pushState("","",n);e.trigger("popstate",[n])}}})(jQuery,window);