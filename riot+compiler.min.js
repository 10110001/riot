<<<<<<< HEAD
/* Riot v3.0.0-alpha.5, @license MIT */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.riot=t()}(this,function(){"use strict";function e(e,t,n,r){var i=function(e){var i=r._parent,o=r._item;if(!o)for(;i&&!o;)o=i._item,i=i._parent;e=e||Ue.event,V(e,"currentTarget")&&(e.currentTarget=n),V(e,"target")&&(e.target=e.srcElement),V(e,"which")&&(e.which=e.charCode||e.keyCode),e.item=o,t.call(r,e),e.preventUpdate||$(r).update()};if(!n.addEventListener)return void(n[e]=i);var o=e.replace(/^on/,"");n._eventHandlers&&n._eventHandlers[o]&&n.removeEventListener(o,n._eventHandlers[o]),n._eventHandlers||(n._eventHandlers={}),n._eventHandlers[o]=i,n.addEventListener(o,i,!1)}function t(t,r){w(t,function(t,i){var o=t.dom,a=t.attr,s=Ye(t.expr,r),u=o&&o.parentNode,c="value"==a;if(t.bool?s=!!s&&a:null==s&&(s=""),t._riot_id){if(t.isMounted)t.update();else if(t.mount(),"VIRTUAL"==t.root.tagName){var f=document.createDocumentFragment();re(t,f),t.root.parentElement.replaceChild(f,t.root)}}else{if(t.update)return void t.update();var l=t.value;if(t.value=s,t.isRtag&&s)return n(t,r);if(!(c&&o.value==s||!c&&l===s)){if(!a)return s+="",void(u&&("TEXTAREA"===u.tagName?(u.value=s,qe||(o.nodeValue=s)):o.nodeValue=s));if(j(o,a),_(s))e(a,s,o,r);else if(/^(show|hide)$/.test(a))"hide"==a&&(s=!s),o.style.display=s?"":"none";else if("value"==a)o.value=s;else if(te(a,ke)&&a!=$e)s&&A(o,a.slice(ke.length),s);else{if("selected"==a&&u&&/^(SELECT|OPTGROUP)$/.test(u.nodeName)&&s&&(u.value=o.value),t.bool&&(o[a]=s,!s))return;(0===s||s&&("undefined"==typeof s?"undefined":Re(s))!==Pe)&&A(o,a,s)}}}})}function n(e,t){var n,r=Ye(e.value,t);if(e.tag&&e.tagName==r)return void e.tag.update();if(e.tag){var i=e.tag.opts.riotTag,o=e.tag._parent.tags[i];Z(o)?o.splice(o.indexOf(e.tag),1):delete e.tag._parent.tags[i]}e.impl=He[r],n={root:e.dom,parent:t,hasImpl:!0,tagName:r},e.tag=k(e.impl,n,e.dom.innerHTML,t),e.tagName=r,e.tag.mount(),e.tag.update()}function r(e,t,n){j(e,"if"),this.parentTag=t,this.expr=n,this.stub=document.createTextNode(""),this.pristine=e;var r=e.parentNode;r.insertBefore(this.stub,e),r.removeChild(e)}function i(e,t,n,r){this.dom=e,this.attr=t,this.rawValue=n,this.parent=r,this.hasExp=Ye.hasExpr(n),this.firstRun=!0}function o(e,t,n,r){var i=r?Object.create(r):{};return i[e.key]=t,e.pos&&(i[e.pos]=n),i}function a(e,t,n,r){for(var i,o=t.length,a=e.length;o>a;)i=t[--o],t.splice(o,1),i.unmount(),ee(r.tags,n,i,!0)}function s(e,t){Object.keys(e.tags).forEach(function(n){var r=e.tags[n];Z(r)?w(r,function(e){I(e,n,t)}):I(r,n,t)})}function u(e,t,n){j(e,"each");var r,i=Re(R(e,"no-reorder"))!==Be||j(e,"no-reorder"),u=P(e),c=He[u]||{tmpl:C(e)},f=Ze.test(u),l=e.parentNode,p=document.createTextNode(""),d=H(e),h="option"===u.toLowerCase(),g=[],m=[],v="VIRTUAL"==e.tagName;n=Ye.loopKeys(n),n.isLoop=!0;var x=R(e,"if");return x&&j(e,"if"),l.insertBefore(p,e),l.removeChild(e),n.update=function(){var y=Ye(n.val,t),w=document.createDocumentFragment();if(l=p.parentNode,Z(y)||(r=y||!1,y=r?Object.keys(y).map(function(e){return o(n,e,y[e])}):[]),x&&(y=y.filter(function(e,r){var i=o(n,e,r,t);return!!Ye(x,i)})),y.forEach(function(a,p){var h,x=i&&("undefined"==typeof a?"undefined":Re(a))==Pe&&!r,y=m.indexOf(a),_=~y&&x?y:p,C=g[_];a=!r&&n.key?o(n,a,p):a,!x&&!C||x&&!~y||!C?(C=new b(c,{parent:t,isLoop:!0,anonymous:!He[u],root:f?l:e.cloneNode(),item:a},e.innerHTML),C.mount(),h=C.root,p==g.length?v?re(C,w):w.appendChild(h):(v?re(C,l,g[p]):l.insertBefore(h,g[p].root),m.splice(p,0,a)),g.splice(p,0,C),d&&W(t.tags,u,C,!0),_=p):C.update(a),_!==p&&x&&(v?ie(C,l,g[p],e.childNodes.length):g[p].root.parentNode&&l.insertBefore(C.root,g[p].root),n.pos&&(C[n.pos]=p),g.splice(p,0,g.splice(_,1)[0]),m.splice(p,0,m.splice(_,1)[0]),!d&&C.tags&&s(C,p)),C._item=a,B(C,"_parent",t)}),a(y,g,u,t),l.insertBefore(w,p),h&&Qe&&!l.multiple)for(var _=0;_<l.length;_++)if(l[_].__riot1374){l.selectedIndex=_,delete l[_].__riot1374;break}m=y.slice()},n.unmount=function(){w(g,function(e){e.unmount()})},n}function c(e,t,n,i){var o={parent:{children:n}};K(e,function(n,o){var a,s,c=n.nodeType,l=o.parent;if(!i&&n===e)return{parent:l};if(3==c&&"STYLE"!=n.parentNode.tagName&&Ye.hasExpr(n.nodeValue)&&l.children.push({dom:n,expr:n.nodeValue}),1!=c)return o;if(a=R(n,"each"))return l.children.push(u(n,t,a)),!1;if(a=R(n,"if"))return l.children.push(new r(n,t,a)),!1;if((s=R(n,$e))&&Ye.hasExpr(s))return l.children.push({isRtag:!0,expr:s,dom:n}),!1;var p=H(n);if(p&&(n!==e||i)){var d={root:n,parent:t,hasImpl:!0};return l.children.push(k(p,d,n.innerHTML,t)),!1}return f(n,n.attributes,t,function(e,t){t&&l.children.push(t)}),{parent:l}},o)}function f(e,t,n,r){w(t,function(t){var o,a=t.name,s=Ke.test(a);"name"===a||"id"===a?o=new i(e,a,t.value,n):Ye.hasExpr(t.value)&&(o={dom:e,expr:t.value,attr:t.name,bool:s}),r(t,o)})}function l(e,t,n){var r="o"===n[0],i=r?"select>":"table>";if(e.innerHTML="<"+i+t.trim()+"</"+i,i=e.firstChild,r)i.selectedIndex=-1;else{var o=ot[n];o&&1===i.childElementCount&&(i=X(o,i))}return i}function p(e,t){if(!tt.test(e))return e;var n={};return t=t&&t.replace(rt,function(e,t,r){return n[t]=n[t]||r,""}).trim(),e.replace(it,function(e,t,r){return n[t]||r||""}).replace(nt,function(e,n){return t||n||""})}function d(e,t){var n=e&&e.match(/^\s*<([-\w]+)/),r=n&&n[1].toLowerCase(),i=Q(st,E(r));return e=p(e,t),at.test(r)?i=l(i,e,r):S(i,e),i.stub=!0,i}function h(e,t,n,r,i){return _(r)&&(i=r,/^[\w\-]+\s?=/.test(n)?(r=n,n=""):r=""),n&&(_(n)?i=n:mt.add(n)),e=e.toLowerCase(),He[e]={name:e,tmpl:t,attrs:r,fn:i},e}function g(e,t,n,r,i){n&&mt.add(n,e);var o=!!He[e];return He[e]={name:e,tmpl:t,attrs:r,fn:i},o&&riot.util.hotReloader&&riot.util.hotReloader(e),e}function m(e,t,n){function r(e){if(e.tagName){var o=R(e,Fe)||R(e,$e);t&&o!==t&&(o=t,A(e,Fe,t),A(e,$e,t));var a=ne(e,o||e.tagName.toLowerCase(),n);a&&i.push(a)}else e.length&&w(e,r)}var i=[];mt.inject(),N(t)&&(n=t,t=0);var o=void 0,a=void 0;if(L(e)?(e="*"===e?a=z():e+z(e.split(/, */)),o=e?J(e):[]):o=e,"*"===t){if(t=a||z(),o.tagName)o=J(t,o);else{var s=[];w(o,function(e){return s.push(J(t,e))}),o=s}t=0}return r(o),i}function v(e,t,n){if(N(e))return void v("__unnamed_"+ft++,e,!0);var r=n?ct:ut;if(!t){if(O(r[e]))throw new Error("Unregistered mixin: "+e);return r[e]}r[e]=_(t)?D(t.prototype,r[e]||{})&&t:D(r[e]||{},t)}function x(){return w(Ae,function(e){return e.update()})}function y(e){delete He[e]}function b(e,n,r){function o(){if(!g||!m){var e=!m&&g?l:h||l;w(y,function(n){n.expr&&t([n.expr],e),p[M(n.name)]=n.expr?n.expr.value:n.value})}}function a(e){for(var t in x)Re(l[t])!==ze&&V(l,t)&&(l[t]=e[t])}function s(e){w(Object.keys(e),function(t){var n=!Ve.test(t)&&U(O,t);(Re(l[t])===ze||n)&&(n||O.push(t),l[t]=e[t])})}var u,l=Je(this),p=Y(n.opts)||{},h=n.parent,g=n.isLoop,m=n.anonymous,x=G(n.item),y=[],b=[],C=[],S=n.root,E=n.tagName||S.tagName.toLowerCase(),O=[];e.name&&S._tag&&S._tag.unmount(!0),this.isMounted=!1,S.isLoop=g,this._internal={anonymous:m,origAttrs:y,innerHTML:r},B(this,"_riot_id",++lt),D(this,{parent:h,root:S,opts:p},x),B(this,"tags",{}),u=d(e.tmpl,r),B(this,"update",function(e){if(!_(l.shouldUpdate)||l.shouldUpdate())return e=G(e),g&&m&&s(l.parent),e&&N(x)&&(a(e),x=e),D(l,e),o(),l.isMounted&&l.trigger("update",e),t(C,l),l.isMounted&&l.trigger("updated"),this}),B(this,"mixin",function(){return w(arguments,function(e){var t,n,r=[];e=("undefined"==typeof e?"undefined":Re(e))===Be?v(e):e,t=_(e)?new e:e;do r=r.concat(Object.getOwnPropertyNames(n||t));while(n=Object.getPrototypeOf(n||t));w(r,function(e){if("init"!=e){var n=Object.getOwnPropertyDescriptor(t,e),r=n&&(n.get||n.set);!l.hasOwnProperty(e)&&r?Object.defineProperty(l,e,n):l[e]=_(t[e])?t[e].bind(l):t[e]}}),t.init&&t.init.bind(l)()}),this}),B(this,"mount",function(t){S._tag=this;var n=v(Ie);if(n)for(var r in n)n.hasOwnProperty(r)&&l.mixin(n[r]);if(f(S,S.attributes,h,function(e,t){!m&&t instanceof i&&(t.tag=l),e.expr=t,y.push(e)}),l._parent&&m&&s(l._parent),o(),e.fn&&e.fn.call(l,p),b=[],q(e.attrs,function(e,t){b.push({name:e,value:t})}),f(S,b,l,function(e,t){t?C.push(t):A(S,e.name,e.value)}),c(u,l,C,!1),l.update(x),l.trigger("before-mount"),g&&m)l.root=S=u.firstChild;else{for(;u.firstChild;)S.appendChild(u.firstChild);S.stub&&(l.root=S=h.root)}B(l,"root",S),l.isMounted=!0,!l.parent||l.parent.isMounted?l.trigger("mount"):l.parent.one("mount",function(){l.trigger("mount")})}),B(this,"unmount",function(e){var t,n=l.root,r=n.parentNode,i=Ae.indexOf(l);if(l.trigger("before-unmount"),~i&&Ae.splice(i,1),r){if(h)t=$(h),ee(t.tags,E,l);else for(;n.firstChild;)n.removeChild(n.firstChild);e?(j(r,Fe),j(r,$e)):r.removeChild(n)}this._virts&&w(this._virts,function(e){e.parentNode&&e.parentNode.removeChild(e)}),F(C),l.trigger("unmount"),l.off("*"),l.isMounted=!1,delete l.root._tag,l.root._eventHandlers&&(w(Object.keys(l.root._eventHandlers),function(e){l.root.removeEventListener(e,l.root._eventHandlers[e])}),delete l.root._eventHandlers)})}function w(e,t){for(var n,r=e?e.length:0,i=0;i<r;i++)n=e[i],null!=n&&t(n,i)===!1&&i--;return e}function _(e){return("undefined"==typeof e?"undefined":Re(e))===De||!1}function C(e){if(e.outerHTML)return e.outerHTML;var t=Q("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}function S(e,t){if(Re(e.innerHTML)!=ze)e.innerHTML=t;else{var n=(new DOMParser).parseFromString(t,"application/xml");e.appendChild(e.ownerDocument.importNode(n.documentElement,!0))}}function E(e){return~Ge.indexOf(e)}function N(e){return e&&("undefined"==typeof e?"undefined":Re(e))===Pe}function O(e){return("undefined"==typeof e?"undefined":Re(e))===ze}function L(e){return("undefined"==typeof e?"undefined":Re(e))===Be}function T(e){return("undefined"==typeof e?"undefined":Re(e))===ze||null===e||""===e}function j(e,t){e.removeAttribute(t)}function M(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})}function R(e,t){return e.getAttribute(t)}function A(e,t,n){e.setAttribute(t,n)}function H(e){return e.tagName&&He[R(e,Fe)||R(e,$e)||e.tagName.toLowerCase()]}function I(e,t,n){var r,i=e.parent;i&&(r=i.tags[t],Z(r)?r.splice(n,0,r.splice(r.indexOf(e),1)[0]):W(i.tags,t,e))}function k(e,t,n,r){var i=new b(e,t,n),o=t.tagName||P(t.root,!0),a=$(r);return i.parent=a,i._parent=r,W(a.tags,o,i),a!==r&&W(r.tags,o,i),t.root.innerHTML="",i}function $(e){for(var t=e;t._internal.anonymous&&t.parent;)t=t.parent;return t}function F(e){var t,n,r=e.length;for(t=0;t<r;t++)n=e[t],n instanceof b?n.unmount(!0):n.unmount&&n.unmount()}function B(e,t,n,r){return Object.defineProperty(e,t,D({value:n,enumerable:!1,writable:!1,configurable:!0},r)),e}function P(e,t){var n=H(e),r=!t&&R(e,"name"),i=r&&!Ye.hasExpr(r)?r:n?n.name:e.tagName.toLowerCase();return i}function z(e){if(!e){var t=Object.keys(He);return t+z(t)}return e.filter(function(e){return!/[^-\w]/.test(e)}).reduce(function(e,t){var n=t.trim().toLowerCase();return e+(",["+Fe+'="'+n+'"]')},"")}function D(e){for(var t,n=arguments,r=1;r<n.length;++r)if(t=n[r])for(var i in t)V(e,i)&&(e[i]=t[i]);return e}function U(e,t){return~e.indexOf(t)}function Z(e){return Array.isArray(e)||e instanceof Array}function V(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return Re(e[t])===ze||n&&n.writable}function G(e){if(!(e instanceof b||e&&Re(e.trigger)==De))return e;var t={};for(var n in e)Ve.test(n)||(t[n]=e[n]);return t}function K(e,t,n){if(e){var r,i=t(e,n);if(i===!1)return;for(e=e.firstChild;e;)r=e.nextSibling,K(e,t,i),e=r}}function q(e,t){if(e)for(var n,r=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;n=r.exec(e);)t(n[1].toLowerCase(),n[2]||n[3]||n[4])}function Q(e,t){return t?document.createElementNS("http://www.w3.org/2000/svg","svg"):document.createElement(e)}function J(e,t){return(t||document).querySelectorAll(e)}function X(e,t){return(t||document).querySelector(e)}function Y(e){function t(){}return t.prototype=e,new t}function W(e,t,n,r){var i=e[t],o=Z(i);i&&i===n||(!i&&r?e[t]=[n]:i?(!o||o&&!U(i,n))&&(o?i.push(n):e[t]=[i,n]):e[t]=n)}function ee(e,t,n,r){Z(e[t])?(w(e[t],function(r,i){r===n&&e[t].splice(i,1)}),e[t].length?1!=e[t].length||r||(e[t]=e[t][0]):delete e[t]):delete e[t]}function te(e,t){return e.slice(0,t.length)===t}function ne(e,t,n){var r=He[t],i=e._innerHTML=e._innerHTML||e.innerHTML;e.innerHTML="";var o={root:e,opts:n};return n&&n.parent&&(o.parent=n.parent),r&&e&&(r=new b(r,o,i)),r&&r.mount&&(r.mount(!0),U(Ae,r)||Ae.push(r)),r}function re(e,t,n){var r,i,o=document.createTextNode(""),a=document.createTextNode("");for(e._head=e.root.insertBefore(o,e.root.firstChild),e._tail=e.root.appendChild(a),i=e._head,e._virts=[];i;)r=i.nextSibling,n?t.insertBefore(i,n._head):t.appendChild(i),e._virts.push(i),i=r}function ie(e,t,n){for(var r,i=e._head;i;)if(r=i.nextSibling,t.insertBefore(i,n._head),i=r,i==e._tail){t.insertBefore(i,n._head);break}}function oe(e){var t,n=St;for(~e.indexOf("\r")&&(e=e.replace(/\r\n?/g,"\n")),n.lastIndex=0;t=n.exec(e);)"<"===t[0][0]&&(e=RegExp.leftContext+RegExp.rightContext,n.lastIndex=t[3]+1);return e}function ae(e,t){var n,r,i,o=[];for(Ct.lastIndex=0,e=e.replace(/\s+/g," ");n=Ct.exec(e);){var a=n[1].toLowerCase(),s=n[2];s?(s[0]!==kt&&(s=kt+(s[0]===$t?s.slice(1,-1):s)+kt),"type"===a&&jt.test(s)?r=s:(Rt.test(s)&&("value"===a?i=1:~Ot.indexOf(a)&&(a="riot-"+a)),o.push(a+"="+s))):o.push(a)}return r&&(i&&(r=kt+t._bp[0]+$t+r.slice(1,-1)+$t+t._bp[1]+kt),o.push("type="+r)),o.join(" ")}function se(e,t,n){var r=n._bp;if(e&&r[4].test(e)){for(var i,o=t.expr&&(t.parser||t.type)?pe:0,a=Xe.split(e,0,r),s=1;s<a.length;s+=2)i=a[s],"^"===i[0]?i=i.slice(1):o&&(i=o(i,t).trim(),";"===i.slice(-1)&&(i=i.slice(0,-1))),a[s]=Ht+(n.push(i)-1)+r[1];e=a.join("")}return e}function ue(e,t){return t.length&&(e=e.replace(At,function(e,n){return t._bp[0]+t[n].trim().replace(/[\r\n]+/g," ").replace(/"/g,It)})),e}function ce(e,t,n){if(e=se(e,t,n).replace(Et,function(e,t,r,i){return t=t.toLowerCase(),i=i&&!Lt.test(t)?"></"+t:"",r&&(t+=" "+ae(r,n)),"<"+t+i+">"}),!t.whitespace){var r=[];/<pre[\s>]/.test(e)&&(e=e.replace(Tt,function(e){return r.push(e),""})),e=e.trim().replace(/\s+/g," "),r.length&&(e=e.replace(/\u0002/g,function(){return r.shift()}))}return t.compact&&(e=e.replace(Nt,"><$1")),ue(e,n).replace(Mt,"")}function fe(e,t,n){return Array.isArray(t)?(n=t,t={}):(n||(n=[]),t||(t={})),n._bp=Xe.array(t.brackets),ce(oe(e),t,n)}function le(e){function t(e,t,n){for(t.lastIndex=0;n=t.exec(e);)"/"!==n[0][0]||n[1]||n[2]||(e=u.leftContext+" "+u.rightContext,t.lastIndex=n[3]+1);return e}function n(e,t){var n,r=1;for(t.lastIndex=0;r&&(n=t.exec(e));)"{"===n[0]?++r:"}"===n[0]&&--r;return r?e.length:t.lastIndex}var r,i,o,a,s=[],u=RegExp;for(~e.indexOf("/")&&(e=t(e,Pt));r=e.match(Ft);)s.push(u.leftContext),e=u.rightContext,o=n(e,Bt),a=r[1],i=!/^(?:if|while|for|switch|catch|function)$/.test(a),a=i?r[0].replace(a,"this."+a+" = function"):r[0],s.push(a,e.slice(0,o)),e=e.slice(o),i&&!/^\s*.\s*bind\b/.test(e)&&s.push(".bind(this)");return s.length?s.join("")+e:e}function pe(e,t,n,r,i){if(!/\S/.test(e))return"";n||(n=t.type);var o=t.parser||(n?bt.js[n]:le);if(!o)throw new Error('JS parser not found: "'+n+'"');return o(e,r,i).replace(/\r\n?/g,"\n").replace(Mt,"")}function de(e,t,n,r){return"string"==typeof t&&(r=n,n=t,t={}),n&&"object"===("undefined"==typeof n?"undefined":Re(n))&&(r=n,n=""),r||(r={}),pe(e,t||{},n,r.parserOptions,r.url)}function he(e,t){var n=":scope";return t.replace(zt,function(t,r,i){return i?(i=i.replace(/[^,]+/g,function(t){var r=t.trim();return r&&"from"!==r&&"to"!==r&&"%"!==r.slice(-1)?r=r.indexOf(n)<0?e+" "+r+',[riot-tag="'+e+'"] '+r+',[data-is="'+e+'"] '+r:r.replace(n,e)+","+r.replace(n,'[riot-tag="'+e+'"]')+","+r.replace(n,'[data-is="'+e+'"]'):t}),r?r+" "+i:i):t})}function ge(e,t,n,r){var i=(r||(r={})).scoped;if(n)if("scoped-css"===n)i=!0;else if(bt.css[n])e=bt.css[n](t,e,r.parserOpts||{},r.url);else if("css"!==n)throw new Error('CSS parser not found: "'+n+'"');if(e=e.replace(Xe.R_MLCOMMS,"").replace(/\s+/g," ").trim(),i){if(!t)throw new Error("Can not parse scoped CSS without a tagName");e=he(t,e)}return e}function me(e,t,n){return t&&"object"===("undefined"==typeof t?"undefined":Re(t))?(n=t,t=""):n||(n={}),ge(e,n.tagName,t,n)}function ve(e,t){return e?(e=$t+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'")+$t,t&&~e.indexOf("\n")?e.replace(/\n/g,"\\n"):e):"''"}function xe(e,t,n,r,i,o){var a=o.debug?",\n  ":", ",s="});";return i&&"\n"!==i.slice(-1)&&(s="\n"+s),"riot.tag2('"+e+$t+a+ve(t,1)+a+ve(n)+a+ve(r)+", function(opts) {\n"+i+s}function ye(e){if(/<[-\w]/.test(e))for(var t,n=e.lastIndexOf("<"),r=e.length;~n;){if(t=e.slice(n,r).match(Zt))return n+=t.index+t[0].length,[e.slice(0,n),e.slice(n)];r=n,n=e.lastIndexOf("<",n-1)}return["",e]}function be(e){if(e){var t=e.match(Dt);if(t=t&&(t[2]||t[3]))return t.replace("text/","")}return""}function we(e,t){if(e){var n=e.match(RegExp("\\s"+t+Ut,"i"));if(n=n&&n[1])return/^['"]/.test(n)?n.slice(1,-1):n}return""}function _e(e){return e.replace("&amp;",/&/g).replace("&lt;",/</g).replace("&gt;",/>/g).replace("&quot;",/"/g).replace("&#039;",/'/g)}function Ce(e){var t=_e(we(e,"options"));return t?JSON.parse(t):null}function Se(e,t,n,r){var i=be(n),o=we(n,"src");return!o&&pe(e,t,i,Ce(n),r)}function Ee(e,t,n,r,i){var o={parserOpts:Ce(n),scoped:n&&/\sscoped(\s|=|$)/i.test(n),url:r};return ge(e,i,be(n)||t.style,o)}function Ne(e,t,n,r){var i=bt.html[n];if(!i)throw new Error('Template parser not found: "'+n+'"');return i(e,r,t)}function Oe(e,t,n){var r,i=[];t||(t={}),r=t.exclude?function(e){return t.exclude.indexOf(e)<0}:function(){return 1},n||(n="");var o=Xe.array(t.brackets);return t.template&&(e=Ne(e,n,t.template,t.templateOptions)),e=oe(e).replace(Vt,function(e,a,s,u,c,f){var l="",p="",d="",h=[];if(h._bp=o,s=s.toLowerCase(),u=u&&r("attribs")?ue(ae(se(u,t,h),h),h):"",(c||(c=f))&&/\S/.test(c))if(f)r("html")&&(d=ce(f,t,h));else{c=c.replace(RegExp("^"+a,"gm"),""),c=c.replace(Kt,function(e,i,o){return r("css")&&(p+=(p?" ":"")+Ee(o,t,i,n,s)),""}),c=c.replace(Gt,function(e,i,o){if(r("js")){var a=Se(o,t,i,n);a&&(l+=(l?"\n":"")+a)}return""});var g=ye(c.replace(Mt,""));r("html")&&(d=ce(g[0],t,h)),r("js")&&(c=pe(g[1],t,null,null,n),c&&(l+=(l?"\n":"")+c))}return l=/\S/.test(l)?l.replace(/\n{3,}/g,"\n\n"):"",t.entities?(i.push({tagName:s,html:d,css:p,attribs:u,js:l}),""):xe(s,d,p,u,l,t)}),t.entities?i:e}function Le(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&(200===r.status||!r.status&&r.responseText.length)&&t(r.responseText,n,e)},r.open("GET",e,!0),r.send("")}function Te(e,t){if(("undefined"==typeof e?"undefined":Re(e))===Be){var n=Q("script"),r=document.documentElement;t&&(e+="\n//# sourceURL="+t+".js"),n.text=e,r.appendChild(n),r.removeChild(n)}}function je(e,t){function n(){ht.trigger("ready"),gt=!0,e&&e()}function r(e,t,r){var i=Qt.compile(e,t,r);Te(i,r),--o||n()}var i=J('script[type="riot/tag"]'),o=i.length;if(o)for(var a=0;a<i.length;++a){var s=i[a],u=D({template:R(s,"template")},t),c=R(s,"src");c?Le(c,r,u):r(s.innerHTML,u)}else n()}function Me(e,t,n){var r;return Xt(function(){r=m(e,t,n)}),r}var Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},Ae=[],He={},Ie="__global_mixin",ke="riot-",$e="data-is",Fe="data-is",Be="string",Pe="object",ze="undefined",De="function",Ue=("undefined"==typeof window?"undefined":Re(window))==ze?void 0:window,Ze=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,Ve=/^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|parent|opts|trigger|o(?:n|ff|ne))$/,Ge=["altGlyph","animate","animateColor","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","filter","font","foreignObject","g","glyph","glyphRef","image","line","linearGradient","marker","mask","missing-glyph","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tref","tspan","use"],Ke=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,qe=0|(Ue&&Ue.document||{}).documentMode,Qe=Ue&&!!Ue.InstallTrigger,Je=function(e){function t(e,t){for(var n,r,i=e.split(" "),o=i.length,a=0;a<o;a++)n=i[a],r=n.indexOf("."),n&&t(~r?n.substring(0,r):n,a,~r?n.slice(r+1):null)}e=e||{};var n={},r=Array.prototype.slice;return Object.defineProperties(e,{on:{value:function(r,i){return"function"!=typeof i?e:(t(r,function(e,t,r){(n[e]=n[e]||[]).push(i),i.typed=t>0,i.ns=r}),e)},enumerable:!1,writable:!1,configurable:!1},off:{value:function(r,i){return"*"!=r||i?t(r,function(e,t,r){if(i||r)for(var o,a=n[e],s=0;o=a&&a[s];++s)(o==i||r&&o.ns==r)&&a.splice(s--,1);else delete n[e]}):n={},e},enumerable:!1,writable:!1,configurable:!1},one:{value:function(t,n){function r(){e.off(t,r),n.apply(e,arguments)}return e.on(t,r)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(i){for(var o,a=arguments.length-1,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+1];return t(i,function(t,i,a){o=r.call(n[t]||[],0);for(var u,c=0;u=o[c];++c)a&&u.ns!=a||u.apply(e,u.typed?[t].concat(s):s),o[c]!==u&&c--;n["*"]&&"*"!=t&&e.trigger.apply(e,["*",t].concat(s))}),e},enumerable:!1,writable:!1,configurable:!1}}),e},Xe=function(e){function t(e){return e}function n(e,t){return t||(t=v),new RegExp(e.source.replace(/{/g,t[2]).replace(/}/g,t[3]),e.global?c:"")}function r(e){if(e===h)return g;var t=e.split(" ");if(2!==t.length||/[\x00-\x1F<>a-zA-Z0-9'",;\\]/.test(e))throw new Error('Unsupported brackets "'+e+'"');return t=t.concat(e.replace(/(?=[[\]()*+?.^$|])/g,"\\").split(" ")),t[4]=n(t[1].length>1?/{[\S\s]*?}/:g[4],t),t[5]=n(e.length>3?/\\({|})/g:g[5],t),t[6]=n(g[6],t),t[7]=RegExp("\\\\("+t[3]+")|([[({])|("+t[3]+")|"+p,c),t[8]=e,t}function i(e){return e instanceof RegExp?s(e):v[e]}function o(e){(e||(e=h))!==v[8]&&(v=r(e),s=e===h?t:n,v[9]=s(g[9])),m=e}function a(e){var t;e=e||{},t=e.brackets,Object.defineProperty(e,"brackets",{set:o,get:function(){return m},enumerable:!0}),u=e,o(t)}var s,u,c="g",f=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,l=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,p=l.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,d={"(":RegExp("([()])|"+p,c),"[":RegExp("([[\\]])|"+p,c),"{":RegExp("([{}])|"+p,c)},h="{ }",g=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+p,c),h,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],m=e,v=[];return i.split=function(e,t,n){function r(e){t||a?c.push(e&&e.replace(n[5],"$1")):c.push(e)}function i(e,t,n){var r,i=d[t];for(i.lastIndex=n,n=1;(r=i.exec(e))&&(!r[1]||(r[1]===t?++n:--n)););return n?e.length:i.lastIndex}n||(n=v);var o,a,s,u,c=[],f=n[6];for(a=s=f.lastIndex=0;o=f.exec(e);){if(u=o.index,a){if(o[2]){f.lastIndex=i(e,o[2],f.lastIndex);continue}if(!o[3])continue}o[1]||(r(e.slice(s,u)),s=f.lastIndex,f=n[6+(a^=1)],f.lastIndex=s)}return e&&s<e.length&&r(e.slice(s)),c},i.hasExpr=function(e){return v[4].test(e)},i.loopKeys=function(e){var t=e.match(v[9]);return t?{key:t[1],pos:t[2],val:v[0]+t[3].trim()+v[1]}:{val:e.trim()}},i.array=function(e){return e?r(e):v},Object.defineProperty(i,"settings",{set:a,get:function(){return u}}),i.settings="undefined"!=typeof riot&&riot.settings||{},i.set=o,i.R_STRINGS=l,i.R_MLCOMMS=f,i.S_QBLOCKS=p,i}(),Ye=function(){function e(e,r){return e?(a[e]||(a[e]=n(e))).call(r,t):e}function t(t,n){e.errorHandler&&(t.riotData={tagName:n&&n.root&&n.root.tagName,_riot_id:n&&n._riot_id},e.errorHandler(t))}function n(e){var t=r(e);return"try{return "!==t.slice(0,11)&&(t="return "+t),new Function("E",t+";")}function r(e){var t,n=[],r=Xe.split(e.replace(f,'"'),1);if(r.length>2||r[0]){var o,a,s=[];for(o=a=0;o<r.length;++o)t=r[o],t&&(t=1&o?i(t,1,n):'"'+t.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(s[a++]=t);t=a<2?s[0]:"["+s.join(",")+'].join("")'}else t=i(r[1],0,n);return n[0]&&(t=t.replace(l,function(e,t){return n[t].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),t}function i(e,t,n){function r(t,n){var r,i=1,o=p[t];for(o.lastIndex=n.lastIndex;r=o.exec(e);)if(r[0]===t)++i;else if(!--i)break;n.lastIndex=i?e.length:o.lastIndex}if(e=e.replace(c,function(e,t){return e.length>2&&!t?s+(n.push(e)-1)+"~":e}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var i,a=[],f=0;e&&(i=e.match(u))&&!i.index;){var l,d,h=/,|([[{(])|$/g;for(e=RegExp.rightContext,l=i[2]?n[i[2]].slice(1,-1).trim().replace(/\s+/g," "):i[1];d=(i=h.exec(e))[1];)r(d,h);d=e.slice(0,i.index),e=RegExp.rightContext,a[f++]=o(d,1,l)}e=f?f>1?"["+a.join(",")+'].join(" ").trim()':a[0]:o(e,t)}return e}function o(e,t,n){var r;return e=e.replace(h,function(e,t,n,i,o){return n&&(i=r?0:i+e.length,"this"!==n&&"global"!==n&&"window"!==n?(e=t+'("'+n+d+n,i&&(r="."===(o=o[i])||"("===o||"["===o)):i&&(r=!g.test(o.slice(i)))),e}),r&&(e="try{return "+e+"}catch(e){E(e,this)}"),n?e=(r?"function(){"+e+"}.call(this)":"("+e+")")+'?"'+n+'":""':t&&(e="function(v){"+(r?e.replace("return ","v="):"v=("+e+")")+';return v||v===0?v:""}.call(this)'),e}var a={};e.haveRaw=Xe.hasRaw,e.hasExpr=Xe.hasExpr,e.loopKeys=Xe.loopKeys,e.errorHandler=null;var s="⁗",u=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,c=RegExp(Xe.S_QBLOCKS,"g"),f=/\u2057/g,l=/\u2057(\d+)~/g,p={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},d='"in this?this:'+("object"!==("undefined"==typeof window?"undefined":Re(window))?"global":"window")+").",h=/[,{][$\w]+:|(^ *|[^$\w\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,g=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return e.parse=function(e){return e},e.version=Xe.version="v2.4.0",e}();r.prototype.update=function(){var e=Ye(this.expr,this.parentTag);e&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=[],c(this.current,this.parentTag,this.expressions,!0)):!e&&this.current&&(F(this.expressions),this.current.parentNode.removeChild(this.current),this.current=null,this.expressions=[]),e&&t(this.expressions,this.parentTag)},r.prototype.unmount=function(){F(this.expressions||[]),delete this.pristine,delete this.parentNode,delete this.stub},i.prototype.update=function(){var e=this.rawValue;if(this.hasExp&&(e=Ye(this.rawValue,this.parent)),this.firstRun||e!==this.value){var t=this.parent&&$(this.parent),n=this.tag||this.dom;!T(this.value)&&t&&ee(t,this.value,n),T(e)?j(this.dom,this.attr):(t&&W(t,e,n),A(this.dom,this.attr,e)),this.value=e,this.firstRun=!1}},i.prototype.unmount=function(){var e=this.tag||this.dom,t=this.parent&&$(this.parent);!T(this.value)&&t&&ee(t,this.value,e),delete this.dom,delete this.parent};var We,et,tt=/<yield\b/i,nt=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,rt=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,it=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,ot={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},at=qe&&qe<10?Ze:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,st="div",ut={},ct=ut[Ie]={},ft=0,lt=0,pt={},dt=[];Ue&&(We=function(){var e=Q("style");A(e,"type","text/css");var t=X("style[type=riot]");return t?(t.id&&(e.id=t.id),t.parentNode.replaceChild(e,t)):document.getElementsByTagName("head")[0].appendChild(e),e}(),et=We.styleSheet);var ht,gt,mt={styleNode:We,add:function(e,t){t?pt[t]=e:dt.push(e)},inject:function(){if(Ue){var e=Object.keys(pt).map(function(e){return pt[e]}).concat(dt).join("\n");et?et.cssText=e:We.innerHTML=e}}},vt={tmpl:Ye,brackets:Xe,styleManager:mt,styleNode:mt.styleNode},xt=Xe.settings,yt=Object.freeze({util:vt,settings:xt,observable:Je,vdom:Ae,tag:h,tag2:g,mount:m,mixin:v,update:x,unregister:y}),bt=function(){function e(e){var t=window[e];if(t)return t;throw new Error(e+" parser not found.")}function t(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var n={html:{jade:function(n,r,i){return r=t({pretty:!0,filename:i,doctype:"html"},r),e("jade").render(n,r)}},css:{less:function(n,r,i,o){var a;return i=t({sync:!0,syncImport:!0,filename:o},i),e("less").render(r,i,function(e,t){if(e)throw e;a=t.css}),a}},js:{es6:function(n,r){return r=t({blacklist:["useStrict","strict","react"],sourceMaps:!1,comments:!1},r),e("babel").transform(n,r).code},babel:function(n,r,i){return e("babel").transform(n,t({filename:i},r)).code},coffee:function(n,r){return e("CoffeeScript").compile(n,t({bare:!0},r))},livescript:function(n,r){return e("livescript").compile(n,t({bare:!0,header:!1},r))},typescript:function(t,n){return e("typescript")(t,n)},none:function(e){return e}}};return n.js.javascript=n.js.none,n.js.coffeescript=n.js.coffee,n}(),wt=/"[^"\n\\]*(?:\\[\S\s][^"\n\\]*)*"|'[^'\n\\]*(?:\\[\S\s][^'\n\\]*)*'/.source,_t=Xe.R_STRINGS.source,Ct=/ *([-\w:\xA0-\xFF]+) ?(?:= ?('[^']*'|"[^"]*"|\S+))?/g,St=RegExp(/<!--(?!>)[\S\s]*?-->/.source+"|"+wt,"g"),Et=/<(-?[A-Za-z][-\w\xA0-\xFF]*)(?:\s+([^"'\/>]*(?:(?:"[^"]*"|'[^']*'|\/[^>])[^'"\/>]*)*)|\s*)(\/?)>/g,Nt=/>[ \t]+<(-?[A-Za-z]|\/[-A-Za-z])/g,Ot=["style","src","d"],Lt=/^(?:input|img|br|wbr|hr|area|base|col|embed|keygen|link|meta|param|source|track)$/,Tt=/<pre(?:\s+(?:[^">]*|"[^"]*")*)?>([\S\s]+?)<\/pre\s*>/gi,jt=/^"(?:number|date(?:time)?|time|month|email|color)\b/i,Mt=/[ \t]+$/gm,Rt=/\x01#\d/,At=/\x01#(\d+)/g,Ht="#",It="⁗",kt='"',$t="'",Ft=/^[ \t]*([$_A-Za-z][$\w]*)\s*\([^()]*\)\s*{/m,Bt=RegExp("[{}]|"+Xe.S_QBLOCKS,"g"),Pt=RegExp(Xe.R_MLCOMMS.source+"|//[^\r\n]*|"+Xe.S_QBLOCKS,"g"),zt=RegExp("([{}]|^)[ ;]*([^@ ;{}][^{}]*)(?={)|"+wt,"g"),Dt=/\stype\s*=\s*(?:(['"])(.+?)\1|(\S+))/i,Ut="\\s*=\\s*("+_t+"|{[^}]+}|\\S+)",Zt=/\/>\n|^<(?:\/?-?[A-Za-z][-\w\xA0-\xFF]*\s*|-?[A-Za-z][-\w\xA0-\xFF]*\s+[-\w:\xA0-\xFF][\S\s]*?)>\n/,Vt=RegExp(/^([ \t]*)<(-?[A-Za-z][-\w\xA0-\xFF]*)(?:\s+([^'"\/>]+(?:(?:@|\/[^>])[^'"\/>]*)*)|\s*)?(?:\/>|>[ \t]*\n?([\S\s]*)^\1<\/\2\s*>|>(.*)<\/\2\s*>)/.source.replace("@",_t),"gim"),Gt=/<script(\s+[^>]*)?>\n?([\S\s]*?)<\/script\s*>/gi,Kt=/<style(\s+[^>]*)?>\n?([\S\s]*?)<\/style\s*>/gi,qt="v3.0.0-alpha.1",Qt={compile:Oe,compileHTML:fe,compileCSS:me,compileJS:de,parsers:bt,version:qt},Jt=Qt.parsers,Xt=function(e,t,n){if(("undefined"==typeof e?"undefined":Re(e))===Be){if(N(t)&&(n=t,t=!1),/^\s*</m.test(e)){var r=Qt.compile(e,n);return t!==!0&&Te(r),_(t)&&t(r,e,n),r}Le(e,function(e,n,r){var i=Qt.compile(e,n,r);Te(i,r),t&&t(i,e,n)},n)}else if(Z(e)){var i=e.length;e.forEach(function(e){Le(e,function(e,n,r){var o=Qt.compile(e,n,r);Te(o,r),i--,!i&&t&&t(o,e,n)},n)})}else{if(_(e)?(n=t,t=e):(n=e,t=void 0),gt)return t&&t();ht?t&&ht.on("ready",t):(ht=Je(),je(t,n))}},Yt=D({},yt,{mount:Me,compile:Xt,parsers:Jt});return Yt});
=======
/* Riot v2.6.0, @license MIT */
!function(e,t){"use strict";function n(e,t,n){var r={};return r[e.key]=t,e.pos&&(r[e.pos]=n),r}function r(e,t){for(var n,r=t.length,o=e.length;r>o;)n=t[--r],t.splice(r,1),n.unmount()}function o(e,t){Object.keys(e.tags).forEach(function(n){var r=e.tags[n];A(r)?g(r,function(e){E(e,n,t)}):E(r,n,t)})}function i(e,t,n){var r,o=e._root;for(e._virts=[];o;)r=o.nextSibling,n?t.insertBefore(o,n._root):t.appendChild(o),e._virts.push(o),o=r}function a(e,t,n,r){for(var o,i=e._root,a=0;a<r;a++)o=i.nextSibling,t.insertBefore(i,n._root),i=o}function u(e,t,u){b(e,"each");var s,c=typeof _(e,"no-reorder")!==ne||b(e,"no-reorder"),l=M(e),p=X[l]||{tmpl:h(e)},d=se.test(l),g=e.parentNode,m=document.createTextNode(""),v=S(e),x="option"===l.toLowerCase(),y=[],w=[],C="VIRTUAL"==e.tagName;u=ge.loopKeys(u),g.insertBefore(m,e),t.one("before-mount",function(){e.parentNode.removeChild(e),g.stub&&(g=t.root)}).on("update",function(){var h=ge(u.val,t),b=document.createDocumentFragment();A(h)||(s=h||!1,h=s?Object.keys(h).map(function(e){return n(u,e,h[e])}):[]);for(var _=0,S=h.length;_<S;_++){var O=h[_],E=c&&typeof O==re&&!s,N=w.indexOf(O),L=~N&&E?N:_,M=y[L];O=!s&&u.key?n(u,O,_):O,!E&&!M||E&&!~N||!M?(M=new f(p,{parent:t,isLoop:!0,hasImpl:!!X[l],root:d?g:e.cloneNode(),item:O},e.innerHTML),M.mount(),C&&(M._root=M.root.firstChild),_!=y.length&&y[_]?(C?i(M,g,y[_]):g.insertBefore(M.root,y[_].root),w.splice(_,0,O)):C?i(M,b):b.appendChild(M.root),y.splice(_,0,M),L=_):M.update(O,!0),L!==_&&E&&y[_]&&(C?a(M,g,y[_],e.childNodes.length):y[_].root.parentNode&&g.insertBefore(M.root,y[_].root),u.pos&&(M[u.pos]=_),y.splice(_,0,y.splice(L,1)[0]),w.splice(_,0,w.splice(L,1)[0]),!v&&M.tags&&o(M,_)),M._item=O,j(M,"_parent",t)}if(r(h,y),g.insertBefore(b,m),x&&pe&&!g.multiple)for(var T=0;T<g.length;T++)if(g[T].__riot1374){g.selectedIndex=T,delete g[T].__riot1374;break}v&&(t.tags[l]=y),w=h.slice()})}function s(e,t,n,r){k(e,function(e){if(1==e.nodeType){if(e.isLoop=e.isLoop||e.parentNode&&e.parentNode.isLoop||_(e,"each")?1:0,n){var o=S(e);o&&!e.isLoop&&n.push(N(o,{root:e,parent:t},e.innerHTML,t))}e.isLoop&&!r||K(e,t,[])}})}function c(e,t,n){function r(e,t,r){ge.hasExpr(t)&&n.push(T({dom:e,expr:t},r))}k(e,function(e){var n,o=e.nodeType;if(3==o&&"STYLE"!=e.parentNode.tagName&&r(e,e.nodeValue),1==o)return(n=_(e,"each"))?(u(e,t,n),!1):(g(e.attributes,function(t){var n=t.name,o=n.split("__")[1];if(r(e,t.value,{attr:o||n,bool:o}),o)return b(e,n),!1}),!S(e)&&void 0)})}function f(e,n,r){function o(){var e=_&&x?p:v||p;g(N.attributes,function(t){var n=t.value;h[w(t.name)]=ge.hasExpr(n)?ge(n,e):n}),g(Object.keys(k),function(t){h[w(t)]=ge(k[t],e)})}function i(e){for(var t in S)typeof p[t]!==oe&&I(p,t)&&(p[t]=e[t])}function a(e){g(Object.keys(e),function(t){var n=!ce.test(t)&&R(H,t);(typeof p[t]===oe||n)&&(n||H.push(t),p[t]=e[t])})}function u(e){p.update(e,!0)}function f(e){if(g(E,function(t){t[e?"mount":"unmount"]()}),v){var t=e?"on":"off";x?v[t]("unmount",p.unmount):v[t]("update",u)[t]("unmount",p.unmount)}}var l,p=V.observable(this),h=D(n.opts)||{},v=n.parent,x=n.isLoop,_=n.hasImpl,S=$(n.item),O=[],E=[],N=n.root,M=N.tagName.toLowerCase(),k={},H=[];e.name&&N._tag&&N._tag.unmount(!0),this.isMounted=!1,N.isLoop=x,N._tag=this,j(this,"_riot_id",++Q),T(this,{parent:v,root:N,opts:h},S),j(this,"tags",{}),g(N.attributes,function(e){var t=e.value;ge.hasExpr(t)&&(k[e.name]=t)}),l=me(e.tmpl,r),j(this,"update",function(e,t){return e=$(e),x&&a(p.parent),e&&y(S)&&(i(e),S=e),T(p,e),o(),p.trigger("update",e),d(O,p),t&&p.parent?p.parent.one("updated",function(){p.trigger("updated")}):ve(function(){p.trigger("updated")}),this}),j(this,"mixin",function(){return g(arguments,function(e){var t,n,r=[];e=typeof e===ne?V.mixin(e):e,t=m(e)?new e:e;do r=r.concat(Object.getOwnPropertyNames(n||t));while(n=Object.getPrototypeOf(n||t));g(r,function(e){if("init"!=e){var n=Object.getOwnPropertyDescriptor(t,e),r=n&&(n.get||n.set);!p.hasOwnProperty(e)&&r?Object.defineProperty(p,e,n):p[e]=m(t[e])?t[e].bind(p):t[e]}}),t.init&&t.init.bind(p)()}),this}),j(this,"mount",function(){o();var t=V.mixin(J);if(t)for(var n in t)t.hasOwnProperty(n)&&p.mixin(t[n]);if(p._parent&&a(p._parent),e.fn&&e.fn.call(p,h),c(l,p,O),f(!0),e.attrs&&F(e.attrs,function(e,t){C(N,e,t)}),(e.attrs||_)&&c(p.root,p,O),p.parent&&!x||p.update(S),p.trigger("before-mount"),x&&!_)N=l.firstChild;else{for(;l.firstChild;)N.appendChild(l.firstChild);N.stub&&(N=v.root)}j(p,"root",N),x&&s(p.root,p.parent,null,!0),!p.parent||p.parent.isMounted?(p.isMounted=!0,p.trigger("mount")):p.parent.one("mount",function(){P(p.root)||(p.parent.isMounted=p.isMounted=!0,p.trigger("mount"))})}),j(this,"unmount",function(e){var n,r=N,o=r.parentNode,i=W.indexOf(p);if(p.trigger("before-unmount"),~i&&W.splice(i,1),o){if(v)n=L(v),A(n.tags[M])?g(n.tags[M],function(e,t){e._riot_id==p._riot_id&&n.tags[M].splice(t,1)}):n.tags[M]=t;else for(;r.firstChild;)r.removeChild(r.firstChild);e?(b(o,te),b(o,ee)):o.removeChild(r)}this._virts&&g(this._virts,function(e){e.parentNode&&e.parentNode.removeChild(e)}),p.trigger("unmount"),f(),p.off("*"),p.isMounted=!1,delete N._tag}),s(l,this,E)}function l(t,n,r,o){r[t]=function(t){var i,a=o._parent,u=o._item;if(!u)for(;a&&!u;)u=a._item,a=a._parent;t=t||e.event,I(t,"currentTarget")&&(t.currentTarget=r),I(t,"target")&&(t.target=t.srcElement),I(t,"which")&&(t.which=t.charCode||t.keyCode),t.item=u,n.call(o,t)===!0||/radio|check/.test(r.type)||(t.preventDefault&&t.preventDefault(),t.returnValue=!1),t.preventUpdate||(i=u?L(a):o,i.update())}}function p(e,t,n){e&&(e.insertBefore(n,t),e.removeChild(t))}function d(e,t){g(e,function(e,n){var r=e.dom,o=e.attr,i=ge(e.expr,t),a=e.dom.parentNode;if(e.bool?i=!!i:null==i&&(i=""),e.value!==i){if(e.value=i,!o)return i+="",void(a&&("TEXTAREA"===a.tagName?(a.value=i,le||(r.nodeValue=i)):r.nodeValue=i));if("value"===o)return void(r.value!=i&&(r.value=i));if(b(r,o),m(i))l(o,i,r,t);else if("if"==o){var u=e.stub,s=function(){p(u.parentNode,u,r)},c=function(){p(r.parentNode,r,u)};i?u&&(s(),r.inStub=!1,P(r)||k(r,function(e){e._tag&&!e._tag.isMounted&&(e._tag.isMounted=!!e._tag.trigger("mount"))})):(u=e.stub=u||document.createTextNode(""),r.parentNode?c():(t.parent||t).one("updated",c),r.inStub=!0)}else"show"===o?r.style.display=i?"":"none":"hide"===o?r.style.display=i?"none":"":e.bool?(r[o]=i,i&&C(r,o,o),pe&&"selected"===o&&"OPTION"===r.tagName&&(r.__riot1374=i)):(0===i||i&&typeof i!==re)&&(Z(o,Y)&&o!=ee&&(o=o.slice(Y.length)),C(r,o,i))}})}function g(e,t){for(var n,r=e?e.length:0,o=0;o<r;o++)n=e[o],null!=n&&t(n,o)===!1&&o--;return e}function m(e){return typeof e===ie||!1}function h(e){if(e.outerHTML)return e.outerHTML;var t=H("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}function v(e,t){if(typeof e.innerHTML!=oe)e.innerHTML=t;else{var n=(new DOMParser).parseFromString(t,"application/xml");e.appendChild(e.ownerDocument.importNode(n.documentElement,!0))}}function x(e){return~fe.indexOf(e)}function y(e){return e&&typeof e===re}function b(e,t){e.removeAttribute(t)}function w(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})}function _(e,t){return e.getAttribute(t)}function C(e,t,n){var r=ue.exec(t);r&&r[1]?e.setAttributeNS(ae,r[1],n):e.setAttribute(t,n)}function S(e){return e.tagName&&X[_(e,te)||_(e,ee)||e.tagName.toLowerCase()]}function O(e,t,n){var r=n.tags[t];r?(A(r)||r!==e&&(n.tags[t]=[r]),R(n.tags[t],e)||n.tags[t].push(e)):n.tags[t]=e}function E(e,t,n){var r,o=e.parent;o&&(r=o.tags[t],A(r)?r.splice(n,0,r.splice(r.indexOf(e),1)[0]):O(e,t,o))}function N(e,t,n,r){var o=new f(e,t,n),i=M(t.root),a=L(r);return o.parent=a,o._parent=r,O(o,i,a),a!==r&&O(o,i,r),t.root.innerHTML="",o}function L(e){for(var t=e;!S(t.root)&&t.parent;)t=t.parent;return t}function j(e,t,n,r){return Object.defineProperty(e,t,T({value:n,enumerable:!1,writable:!1,configurable:!0},r)),e}function M(e){var t=S(e),n=_(e,"name"),r=n&&!ge.hasExpr(n)?n:t?t.name:e.tagName.toLowerCase();return r}function T(e){for(var t,n=arguments,r=1;r<n.length;++r)if(t=n[r])for(var o in t)I(e,o)&&(e[o]=t[o]);return e}function R(e,t){return~e.indexOf(t)}function A(e){return Array.isArray(e)||e instanceof Array}function I(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return typeof e[t]===oe||n&&n.writable}function $(e){if(!(e instanceof f||e&&typeof e.trigger==ie))return e;var t={};for(var n in e)ce.test(n)||(t[n]=e[n]);return t}function k(e,t){if(e){if(t(e)===!1)return;for(e=e.firstChild;e;)k(e,t),e=e.nextSibling}}function F(e,t){for(var n,r=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;n=r.exec(e);)t(n[1].toLowerCase(),n[2]||n[3]||n[4])}function P(e){for(;e;){if(e.inStub)return!0;e=e.parentNode}return!1}function H(e,t){return t?document.createElementNS("http://www.w3.org/2000/svg","svg"):document.createElement(e)}function B(e,t){return(t||document).querySelectorAll(e)}function q(e,t){return(t||document).querySelector(e)}function D(e){function t(){}return t.prototype=e,new t}function z(e){return _(e,"id")||_(e,"name")}function K(e,t,n){var r,o=z(e),i=function(i){R(n,o)||(r=A(i),i?(!r||r&&!R(i,e))&&(r?i.push(e):t[o]=[i,e]):t[o]=e)};o&&(ge.hasExpr(o)?t.one("mount",function(){o=z(e),i(t[o])}):i(t[o]))}function Z(e,t){return e.slice(0,t.length)===t}function G(e,t,n){var r=X[t],o=e._innerHTML=e._innerHTML||e.innerHTML;return e.innerHTML="",r&&e&&(r=new f(r,{root:e,opts:n},o)),r&&r.mount&&(r.mount(),R(W,r)||W.push(r)),r}function U(e){var t=e.source,n=e.global?"g":"";e.ignoreCase&&(n+="i"),e.multiline&&(n+="m");for(var r=1;r<arguments.length;r++)t=t.replace("@","\\"+arguments[r]);return new RegExp(t,n)}var V={version:"v2.6.0",settings:{}},Q=0,W=[],X={},J="__global_mixin",Y="riot-",ee=Y+"tag",te="data-is",ne="string",re="object",oe="undefined",ie="function",ae="http://www.w3.org/1999/xlink",ue=/^xlink:(\w+)/,se=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,ce=/^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|parent|opts|trigger|o(?:n|ff|ne))$/,fe=["altGlyph","animate","animateColor","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","filter","font","foreignObject","g","glyph","glyphRef","image","line","linearGradient","marker","mask","missing-glyph","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tref","tspan","use"],le=0|(e&&e.document||{}).documentMode,pe=e&&!!e.InstallTrigger;V.observable=function(e){function t(e,t){for(var n=e.split(" "),r=n.length,o=0;o<r;o++){var i=n[o];i&&t(i,o)}}e=e||{};var n={},r=Array.prototype.slice;return Object.defineProperties(e,{on:{value:function(r,o){return"function"!=typeof o?e:(t(r,function(e,t){(n[e]=n[e]||[]).push(o),o.typed=t>0}),e)},enumerable:!1,writable:!1,configurable:!1},off:{value:function(r,o){return"*"!=r||o?t(r,function(e,t){if(o)for(var r,i=n[e],a=0;r=i&&i[a];++a)r==o&&i.splice(a--,1);else delete n[e]}):n={},e},enumerable:!1,writable:!1,configurable:!1},one:{value:function(t,n){function r(){e.off(t,r),n.apply(e,arguments)}return e.on(t,r)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(o){for(var i,a=arguments.length-1,u=new Array(a),s=0;s<a;s++)u[s]=arguments[s+1];return t(o,function(t,o){i=r.call(n[t]||[],0);for(var a,s=0;a=i[s];++s)a.busy||(a.busy=1,a.apply(e,a.typed?[t].concat(u):u),i[s]!==a&&s--,a.busy=0);n["*"]&&"*"!=t&&e.trigger.apply(e,["*",t].concat(u))}),e},enumerable:!1,writable:!1,configurable:!1}}),e},function(t){function n(e){return e.split(/[\/?#]/)}function r(e,t){var n=new RegExp("^"+t[S](/\*/g,"([^/?#]+?)")[S](/\.\./,".*")+"$"),r=e.match(n);if(r)return r.slice(1)}function o(e,t){var n;return function(){clearTimeout(n),n=setTimeout(e,t)}}function i(e){g=o(l,1),j[_](O,g),j[_](E,g),M[_](I,p),e&&l(!0)}function a(){this.$=[],t.observable(this),k.on("stop",this.s.bind(this)),k.on("emit",this.e.bind(this))}function u(e){return e[S](/^\/|\/$/,"")}function s(e){return"string"==typeof e}function c(e){return(e||R.href)[S](y,"")}function f(e){return"#"==m[0]?(e||R.href||"").split(m)[1]||"":(R?c(e):e||"")[S](m,"")}function l(e){var t,n=0==H;if(!(L<=H)&&(H++,P.push(function(){var t=f();(e||t!=h)&&(k[N]("emit",t),h=t)}),n)){for(;t=P.shift();)t();H=0}}function p(e){if(!(1!=e.which||e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)){for(var t=e.target;t&&"A"!=t.nodeName;)t=t.parentNode;!t||"A"!=t.nodeName||t[C]("download")||!t[C]("href")||t.target&&"_self"!=t.target||t.href.indexOf(R.href.match(y)[0])==-1||t.href!=R.href&&(t.href.split("#")[0]==R.href.split("#")[0]||"#"!=m[0]&&0!==c(t.href).indexOf(m)||"#"==m[0]&&t.href.split(m)[0]!=R.href.split(m)[0]||!d(f(t.href),t.title||M.title))||e.preventDefault()}}function d(e,t,n){return T?(e=m+u(e),t=t||M.title,n?T.replaceState(null,t,e):T.pushState(null,t,e),M.title=t,F=!1,l(),F):k[N]("emit",f(e))}var g,m,h,v,x,y=/^.+?\/\/+[^\/]+/,b="EventListener",w="remove"+b,_="add"+b,C="hasAttribute",S="replace",O="popstate",E="hashchange",N="trigger",L=3,j="undefined"!=typeof e&&e,M="undefined"!=typeof document&&document,T=j&&history,R=j&&(T.location||j.location),A=a.prototype,I=M&&M.ontouchstart?"touchstart":"click",$=!1,k=t.observable(),F=!1,P=[],H=0;A.m=function(e,t,n){!s(e)||t&&!s(t)?t?this.r(e,t):this.r("@",e):d(e,t,n||!1)},A.s=function(){this.off("*"),this.$=[]},A.e=function(e){this.$.concat("@").some(function(t){var n=("@"==t?v:x)(u(e),u(t));if("undefined"!=typeof n)return this[N].apply(null,[t].concat(n)),F=!0},this)},A.r=function(e,t){"@"!=e&&(e="/"+u(e),this.$.push(e)),this.on(e,t)};var B=new a,q=B.m.bind(B);q.create=function(){var e=new a,t=e.m.bind(e);return t.stop=e.s.bind(e),t},q.base=function(e){m=e||"#",h=f()},q.exec=function(){l(!0)},q.parser=function(e,t){e||t||(v=n,x=r),e&&(v=e),t&&(x=t)},q.query=function(){var e={},t=R.href||h;return t[S](/[?&](.+?)=([^&]*)/g,function(t,n,r){e[n]=r}),e},q.stop=function(){$&&(j&&(j[w](O,g),j[w](E,g),M[w](I,p)),k[N]("stop"),$=!1)},q.start=function(e){$||(j&&("complete"==document.readyState?i(e):j[_]("load",function(){setTimeout(function(){i(e)},1)})),$=!0)},q.base(),q.parser(),t.route=q}(V);var de=function(e){function t(e){return e}function n(e,t){return t||(t=y),new RegExp(e.source.replace(/{/g,t[2]).replace(/}/g,t[3]),e.global?c:"")}function r(e){if(e===h)return v;var t=e.split(" ");if(2!==t.length||d.test(e))throw new Error('Unsupported brackets "'+e+'"');return t=t.concat(e.replace(g,"\\").split(" ")),t[4]=n(t[1].length>1?/{[\S\s]*?}/:v[4],t),t[5]=n(e.length>3?/\\({|})/g:v[5],t),t[6]=n(v[6],t),t[7]=RegExp("\\\\("+t[3]+")|([[({])|("+t[3]+")|"+p,c),t[8]=e,t}function o(e){return e instanceof RegExp?u(e):y[e]}function i(e){(e||(e=h))!==y[8]&&(y=r(e),u=e===h?t:n,y[9]=u(v[9])),x=e}function a(e){var t;e=e||{},t=e.brackets,Object.defineProperty(e,"brackets",{set:i,get:function(){return x},enumerable:!0}),s=e,i(t)}var u,s,c="g",f=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,l=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,p=l.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,d=RegExp("[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),g=/(?=[[\]()*+?.^$|])/g,m={"(":RegExp("([()])|"+p,c),"[":RegExp("([[\\]])|"+p,c),"{":RegExp("([{}])|"+p,c)},h="{ }",v=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+p,c),h,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],x=e,y=[];return o.split=function(e,t,n){function r(e){t||a?c.push(e&&e.replace(n[5],"$1")):c.push(e)}function o(e,t,n){var r,o=m[t];for(o.lastIndex=n,n=1;(r=o.exec(e))&&(!r[1]||(r[1]===t?++n:--n)););return n?e.length:o.lastIndex}n||(n=y);var i,a,u,s,c=[],f=n[6];for(a=u=f.lastIndex=0;i=f.exec(e);){if(s=i.index,a){if(i[2]){f.lastIndex=o(e,i[2],f.lastIndex);continue}if(!i[3])continue}i[1]||(r(e.slice(u,s)),u=f.lastIndex,f=n[6+(a^=1)],f.lastIndex=u)}return e&&u<e.length&&r(e.slice(u)),c},o.hasExpr=function(e){return y[4].test(e)},o.loopKeys=function(e){var t=e.match(y[9]);return t?{key:t[1],pos:t[2],val:y[0]+t[3].trim()+y[1]}:{val:e.trim()}},o.array=function(e){return e?r(e):y},Object.defineProperty(o,"settings",{set:a,get:function(){return s}}),o.settings="undefined"!=typeof V&&V.settings||{},o.set=i,o.R_STRINGS=l,o.R_MLCOMMS=f,o.S_QBLOCKS=p,o}(),ge=function(){function t(e,t){return e?(u[e]||(u[e]=r(e))).call(t,n):e}function n(e,n){t.errorHandler&&(e.riotData={tagName:n&&n.root&&n.root.tagName,_riot_id:n&&n._riot_id},t.errorHandler(e))}function r(e){var t=o(e);return"try{return "!==t.slice(0,11)&&(t="return "+t),new Function("E",t+";")}function o(e){var t,n=[],r=de.split(e.replace(l,'"'),1);if(r.length>2||r[0]){var o,a,u=[];for(o=a=0;o<r.length;++o)t=r[o],t&&(t=1&o?i(t,1,n):'"'+t.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(u[a++]=t);t=a<2?u[0]:"["+u.join(",")+'].join("")'}else t=i(r[1],0,n);return n[0]&&(t=t.replace(p,function(e,t){return n[t].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),t}function i(e,t,n){function r(t,n){var r,o=1,i=d[t];for(i.lastIndex=n.lastIndex;r=i.exec(e);)if(r[0]===t)++o;else if(!--o)break;n.lastIndex=o?e.length:i.lastIndex}if(e=e.replace(f,function(e,t){return e.length>2&&!t?s+(n.push(e)-1)+"~":e}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var o,i=[],u=0;e&&(o=e.match(c))&&!o.index;){var l,p,g=/,|([[{(])|$/g;for(e=RegExp.rightContext,l=o[2]?n[o[2]].slice(1,-1).trim().replace(/\s+/g," "):o[1];p=(o=g.exec(e))[1];)r(p,g);p=e.slice(0,o.index),e=RegExp.rightContext,i[u++]=a(p,1,l)}e=u?u>1?"["+i.join(",")+'].join(" ").trim()':i[0]:a(e,t)}return e}function a(e,t,n){var r;return e=e.replace(m,function(e,t,n,o,i){return n&&(o=r?0:o+e.length,"this"!==n&&"global"!==n&&"window"!==n?(e=t+'("'+n+g+n,o&&(r="."===(i=i[o])||"("===i||"["===i)):o&&(r=!h.test(i.slice(o)))),e}),r&&(e="try{return "+e+"}catch(e){E(e,this)}"),n?e=(r?"function(){"+e+"}.call(this)":"("+e+")")+'?"'+n+'":""':t&&(e="function(v){"+(r?e.replace("return ","v="):"v=("+e+")")+';return v||v===0?v:""}.call(this)'),e}var u={};t.haveRaw=de.hasRaw,t.hasExpr=de.hasExpr,t.loopKeys=de.loopKeys,t.clearCache=function(){u={}},t.errorHandler=null;var s="⁗",c=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,f=RegExp(de.S_QBLOCKS,"g"),l=/\u2057/g,p=/\u2057(\d+)~/g,d={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},g='"in this?this:'+("object"!=typeof e?"global":"window")+").",m=/[,{][$\w]+(?=:)|(^ *|[^$\w\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,h=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return t.version=de.version="v2.4.1",t}(),me=function e(){function e(e,r){var o=e&&e.match(/^\s*<([-\w]+)/),i=o&&o[1].toLowerCase(),a=H("div",x(i));return e=n(e,r),s.test(i)?a=t(a,e,i):v(a,e),a.stub=!0,a}function t(e,t,n){var r="o"===n[0],o=r?"select>":"table>";if(e.innerHTML="<"+o+t.trim()+"</"+o,o=e.firstChild,r)o.selectedIndex=-1;else{var i=u[n];i&&1===o.childElementCount&&(o=q(i,o))}return o}function n(e,t){if(!r.test(e))return e;var n={};return t=t&&t.replace(i,function(e,t,r){return n[t]=n[t]||r,""}).trim(),e.replace(a,function(e,t,r){return n[t]||r||""}).replace(o,function(e,n){return t||n||""})}var r=/<yield\b/i,o=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,i=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,a=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,u={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},s=le&&le<10?se:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;return e}(),he=function(t){if(!e)return{add:function(){},inject:function(){}};var n=function(){var e=H("style");C(e,"type","text/css");var t=q("style[type=riot]");return t?(t.id&&(e.id=t.id),t.parentNode.replaceChild(e,t)):document.getElementsByTagName("head")[0].appendChild(e),e}(),r=n.styleSheet,o="";return Object.defineProperty(t,"styleNode",{value:n,writable:!0}),{add:function(e){o+=e},inject:function(){o&&(r?r.cssText+=o:n.innerHTML+=o,o="")}}}(V),ve=function(e){var t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame;if(!t||/iP(ad|hone|od).*OS 6/.test(e.navigator.userAgent)){var n=0;t=function(e){var t=Date.now(),r=Math.max(16-(t-n),0);setTimeout(function(){e(n=t+r)},r)}}return t}(e||{});V.util={brackets:de,tmpl:ge},V.mixin=function(){var e={},t=e[J]={},n=0;return function(r,o,i){if(y(r))return void V.mixin("__unnamed_"+n++,r,!0);var a=i?t:e;if(!o){if(typeof a[r]===oe)throw new Error("Unregistered mixin: "+r);return a[r]}m(o)?(T(o.prototype,a[r]||{}),a[r]=o):a[r]=T(a[r]||{},o)}}(),V.tag=function(e,t,n,r,o){return m(r)&&(o=r,/^[\w\-]+\s?=/.test(n)?(r=n,n=""):r=""),n&&(m(n)?o=n:he.add(n)),e=e.toLowerCase(),X[e]={name:e,tmpl:t,attrs:r,fn:o},e},V.tag2=function(e,t,n,r,o){return n&&he.add(n),X[e]={name:e,tmpl:t,attrs:r,fn:o},e},V.mount=function(e,t,n){function r(e){var t="";return g(e,function(e){/[^-\w]/.test(e)||(e=e.trim().toLowerCase(),t+=",["+te+'="'+e+'"],['+ee+'="'+e+'"]')}),t}function o(){var e=Object.keys(X);return e+r(e)}function i(e){if(e.tagName){var r=_(e,te)||_(e,ee);t&&r!==t&&(r=t,C(e,te,t),C(e,ee,t));var o=G(e,r||e.tagName.toLowerCase(),n);o&&s.push(o)}else e.length&&g(e,i)}var a,u,s=[];if(he.inject(),y(t)&&(n=t,t=0),typeof e===ne?("*"===e?e=u=o():e+=r(e.split(/, */)),a=e?B(e):[]):a=e,"*"===t){if(t=u||o(),a.tagName)a=B(t,a);else{var c=[];g(a,function(e){c.push(B(t,e))}),a=c}t=0}return i(a),s},V.update=function(){return g(W,function(e){e.update()})},V.vdom=W,V.Tag=f;var xe=function(e){function t(t){var n=e[t];if(n)return n;throw new Error('Parser "'+t+'" not loaded.')}function n(e){var t=e.split(".");if(2!==t.length)throw new Error("Bad format for parsers._req");var n=i[t[0]][t[1]];if(n)return n;throw new Error('Parser "'+e+'" not found.')}function r(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function o(e,n,o,i){return o=r({pretty:!0,filename:i,doctype:"html"},o),t(e).render(n,o)}var i={};return i.html={jade:function(e,t,n){return console.log('DEPRECATION WARNING: jade was renamed "pug" - The jade parser will be removed in riot@3.0.0!'),o("jade",e,t,n)},pug:function(e,t,n){return o("pug",e,t,n)}},i.css={less:function(e,n,o,i){var a;return o=r({sync:!0,syncImport:!0,filename:i},o),t("less").render(n,o,function(e,t){if(e)throw e;a=t.css}),a}},i.js={es6:function(e,n){return n=r({blacklist:["useStrict","strict","react"],sourceMaps:!1,comments:!1},n),t("babel").transform(e,n).code},babel:function(e,n,o){return t("babel").transform(e,r({filename:o},n)).code},coffee:function(e,n){return t("CoffeeScript").compile(e,r({bare:!0},n))},livescript:function(e,n){return t("livescript").compile(e,r({bare:!0,header:!1},n))},typescript:function(e,n){return t("typescript")(e,n)},none:function(e){return e}},i.js.javascript=i.js.none,i.js.coffeescript=i.js.coffee,i._req=n,i.utils={extend:r},i}(e||global);V.parsers=xe;var ye=function(){function e(e){var t,n=j;for(~e.indexOf("\r")&&(e=e.replace(/\r\n?/g,"\n")),n.lastIndex=0;t=n.exec(e);)"<"===t[0][0]&&(e=RegExp.leftContext+RegExp.rightContext,n.lastIndex=t[3]+1);return e}function t(e,t){var n,r,o,i=[];for(L.lastIndex=0,e=e.replace(/\s+/g," ");n=L.exec(e);){var a=n[1].toLowerCase(),u=n[2];u?(u[0]!==z&&(u=z+(u[0]===K?u.slice(1,-1):u)+z),"type"===a&&k.test(u)?r=u:(H.test(u)&&("value"===a?o=1:R.test(a)?a="__"+a:~A.indexOf(a)&&(a="riot-"+a)),i.push(a+"="+u))):i.push(a)}return r&&(o&&(r=z+t._bp[0]+K+r.slice(1,-1)+K+t._bp[1]+z),i.push("type="+r)),i.join(" ")}function n(e,t,n){var r=n._bp;if(e&&r[4].test(e)){for(var o,i=t.expr&&(t.parser||t.type)?c:0,a=de.split(e,0,r),u=1;u<a.length;u+=2)o=a[u],"^"===o[0]?o=o.slice(1):i&&(o=i(o,t).trim(),";"===o.slice(-1)&&(o=o.slice(0,-1))),a[u]=q+(n.push(o)-1)+r[1];e=a.join("")}return e}function r(e,t){return t.length&&(e=e.replace(B,function(e,n){return t._bp[0]+t[n].trim().replace(/[\r\n]+/g," ").replace(/"/g,D)})),e}function o(e){for(var t=[],n="";t=F.exec(e);)n+=t[0].trim()+"\n";return n}function i(e){var t=e.replace(F,"");return t}function a(e,o,i){if(e=n(e,o,i).replace(M,function(e,n,r,o){return n=n.toLowerCase(),o=o&&!I.test(n)?"></"+n:"",r&&(n+=" "+t(r,i)),"<"+n+o+">"}),!o.whitespace){var a=[];/<pre[\s>]/.test(e)&&(e=e.replace($,function(e){return a.push(e),""})),e=e.trim().replace(/\s+/g," "),a.length&&(e=e.replace(/\u0002/g,function(){return a.shift()}))}return o.compact&&(e=e.replace(T,"><$1")),r(e,i).replace(P,"")}function u(t,n,r){return Array.isArray(n)?(r=n,n={}):(r||(r=[]),n||(n={})),r._bp=de.array(n.brackets),a(e(t),n,r)}function s(e){function t(e,t,n){for(t.lastIndex=0;n=t.exec(e);)"/"!==n[0][0]||n[1]||n[2]||(e=s.leftContext+" "+s.rightContext,t.lastIndex=n[3]+1);return e}function n(e,t){var n,r=1;for(t.lastIndex=0;r&&(n=t.exec(e));)"{"===n[0]?++r:"}"===n[0]&&--r;return r?e.length:t.lastIndex}var r,o,i,a,u=[],s=RegExp;for(~e.indexOf("/")&&(e=t(e,Q));r=e.match(Z);)u.push(s.leftContext),e=s.rightContext,i=n(e,G),a=r[1],o=!/^(?:if|while|for|switch|catch|function)$/.test(a),a=o?r[0].replace(a,"this."+a+" = function"):r[0],u.push(a,e.slice(0,i)),e=e.slice(i),o&&!/^\s*.\s*bind\b/.test(e)&&u.push(".bind(this)");return u.length?u.join("")+e:e}function c(e,t,n,r,o){if(!/\S/.test(e))return"";n||(n=t.type);var i=t.parser||n&&xe._req("js."+n,!0)||s;return i(e,r,o).replace(/\r\n?/g,"\n").replace(P,"")}function f(e,t,n,r){return"string"==typeof t&&(r=n,n=t,t={}),n&&"object"==typeof n&&(r=n,n=""),r||(r={}),c(e,t||{},n,r.parserOptions,r.url)}function l(e,t){var n=":scope";return t.replace(W,function(t,r,o){return o?(o=o.replace(/[^,]+/g,function(t){var r=t.trim();return r&&"from"!==r&&"to"!==r&&"%"!==r.slice(-1)?r=r.indexOf(n)<0?e+" "+r+',[riot-tag="'+e+'"] '+r+',[data-is="'+e+'"] '+r:r.replace(n,e)+","+r.replace(n,'[riot-tag="'+e+'"]')+","+r.replace(n,'[data-is="'+e+'"]'):t}),r?r+" "+o:o):t})}function p(e,t,n,r){var o=(r||(r={})).scoped;if(n)if("scoped-css"===n)o=!0;else if("css"!==n){var i=xe._req("css."+n,!0);e=i(t,e,r.parserOpts||{},r.url)}if(e=e.replace(de.R_MLCOMMS,"").replace(/\s+/g," ").trim(),o){if(!t)throw new Error("Can not parse scoped CSS without a tagName");e=l(t,e)}return e}function d(e,t,n){return t&&"object"==typeof t?(n=t,t=""):n||(n={}),p(e,n.tagName,t,n)}function g(e,t){return e?(e=K+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'")+K,t&&~e.indexOf("\n")?e.replace(/\n/g,"\\n"):e):"''"}function m(e,t,n,r,o,i,a){var u=a.debug?",\n  ":", ",s="});";return o&&"\n"!==o.slice(-1)&&(s="\n"+s),i+"riot.tag2('"+e+K+u+g(t,1)+u+g(n)+u+g(r)+", function(opts) {\n"+o+s}function h(e){if(/<[-\w]/.test(e))for(var t,n=e.lastIndexOf("<"),r=e.length;~n;){if(t=e.slice(n,r).match(Y))return n+=t.index+t[0].length,[e.slice(0,n),e.slice(n)];r=n,n=e.lastIndexOf("<",n-1)}return["",e]}function v(e){if(e){var t=e.match(X);if(t=t&&(t[2]||t[3]))return t.replace("text/","")}return""}function x(e,t){if(e){var n=e.match(RegExp("\\s"+t+J,"i"));if(n=n&&n[1])return/^['"]/.test(n)?n.slice(1,-1):n}return""}function y(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'")}function b(e){var t=y(x(e,"options"));return t?JSON.parse(t):null}function w(e,t,n,r){var o=v(n),i=x(n,"src"),a=O({},t.parserOptions.js);return!i&&c(e,t,o,O(a,b(n)),r)}function _(e,t,n,r,o){var i=O({},t.parserOptions.style),a={parserOpts:O(i,b(n)),scoped:n&&/\sscoped(\s|=|$)/i.test(n),url:r};return p(e,o,v(n)||t.style,a)}function C(e,t,n,r){var o=xe._req("html."+n,!0);return o(e,r,t)}function S(u,s,f){var l,p=[],d={template:{},js:{},style:{}};s||(s={}),s.parserOptions=O(d,s.parserOptions||{}),l=s.exclude?function(e){return s.exclude.indexOf(e)<0}:function(){return 1},f||(f="");var g=de.array(s.brackets);return s.template&&(u=C(u,f,s.template,s.parserOptions.template)),u=e(u).replace(ee,function(e,u,d,v,x,y){var b="",C="",S="",O="",E=[];if(E._bp=g,d=d.toLowerCase(),v=v&&l("attribs")?r(t(n(v,s,E),E),E):"",(x||(x=y))&&/\S/.test(x))if(y)l("html")&&(S=a(y,s,E));else{x=x.replace(RegExp("^"+u,"gm"),""),x=x.replace(ne,function(e,t,n){return l("css")&&(C+=(C?" ":"")+_(n,s,t,f,d)),""}),x=x.replace(te,function(e,t,n){if(l("js")){var r=w(n,s,t,f);r&&(b+=(b?"\n":"")+r)}return""});var N=h(x.replace(P,""));l("html")&&(S=a(N[0],s,E)),l("js")&&(x=c(N[1],s,null,null,f),O=o(b),b=i(b),x&&(b+=(b?"\n":"")+x))}return b=/\S/.test(b)?b.replace(/\n{3,}/g,"\n\n"):"",s.entities?(p.push({tagName:d,html:S,css:C,attribs:v,js:b}),""):m(d,S,C,v,b,O,s)}),s.entities?p:u}var O=xe.utils.extend,E=/"[^"\n\\]*(?:\\[\S\s][^"\n\\]*)*"|'[^'\n\\]*(?:\\[\S\s][^'\n\\]*)*'/.source,N=de.R_STRINGS.source,L=/ *([-\w:\xA0-\xFF]+) ?(?:= ?('[^']*'|"[^"]*"|\S+))?/g,j=RegExp(/<!--(?!>)[\S\s]*?-->/.source+"|"+E,"g"),M=/<(-?[A-Za-z][-\w\xA0-\xFF]*)(?:\s+([^"'\/>]*(?:(?:"[^"]*"|'[^']*'|\/[^>])[^'"\/>]*)*)|\s*)(\/?)>/g,T=/>[ \t]+<(-?[A-Za-z]|\/[-A-Za-z])/g,R=RegExp("^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$"),A=["style","src","d"],I=/^(?:input|img|br|wbr|hr|area|base|col|embed|keygen|link|meta|param|source|track)$/,$=/<pre(?:\s+(?:[^">]*|"[^"]*")*)?>([\S\s]+?)<\/pre\s*>/gi,k=/^"(?:number|date(?:time)?|time|month|email|color)\b/i,F=/^(?: )*(?:import)(?:(?:.*))*$/gm,P=/[ \t]+$/gm,H=U(/@#\d/,"x01"),B=U(/@#(\d+)/g,"x01"),q="#",D="⁗",z='"',K="'",Z=/^[ \t]*([$_A-Za-z][$\w]*)\s*\([^()]*\)\s*{/m,G=RegExp("[{}]|"+de.S_QBLOCKS,"g"),Q=RegExp(de.R_MLCOMMS.source+"|//[^\r\n]*|"+de.S_QBLOCKS,"g"),W=RegExp("([{}]|^)[ ;]*([^@ ;{}][^{}]*)(?={)|"+E,"g"),X=/\stype\s*=\s*(?:(['"])(.+?)\1|(\S+))/i,J="\\s*=\\s*("+N+"|{[^}]+}|\\S+)",Y=/\/>\n|^<(?:\/?-?[A-Za-z][-\w\xA0-\xFF]*\s*|-?[A-Za-z][-\w\xA0-\xFF]*\s+[-\w:\xA0-\xFF][\S\s]*?)>\n/,ee=RegExp(/^([ \t]*)<(-?[A-Za-z][-\w\xA0-\xFF]*)(?:\s+([^'"\/>]+(?:(?:@|\/[^>])[^'"\/>]*)*)|\s*)?(?:\/>|>[ \t]*\n?([\S\s]*)^\1<\/\2\s*>|>(.*)<\/\2\s*>)/.source.replace("@",N),"gim"),te=/<script(\s+[^>]*)?>\n?([\S\s]*?)<\/script\s*>/gi,ne=/<style(\s+[^>]*)?>\n?([\S\s]*?)<\/style\s*>/gi;return V.util.compiler={compile:S,html:u,css:d,js:f,version:"v2.5.3"},S}();V.compile=function(){function e(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&(200===r.status||!r.status&&r.responseText.length)&&t(r.responseText,n,e)},r.open("GET",e,!0),r.send("")}function n(e,t){if(typeof e===ne){var n=H("script"),r=document.documentElement;t&&(e+="\n//# sourceURL="+t+".js"),n.text=e,r.appendChild(n),r.removeChild(n)}}function r(t,r){function a(){o.trigger("ready"),i=!0,t&&t()}function u(e,t,r){var o=ye(e,t,r);n(o,r),--c||a()}var s=B('script[type="riot/tag"]'),c=s.length;if(c)for(var f=0;f<s.length;++f){var l=s[f],p=T({template:_(l,"template")},r),d=_(l,"src");d?e(d,u,p):u(l.innerHTML,p)}else a()}var o,i;return function(a,u,s){if(typeof a===ne){if(y(u)&&(s=u,u=!1),/^\s*</m.test(a)){var c=ye(a,s);return u!==!0&&n(c),m(u)&&u(c,a,s),c}e(a,function(e,t,r){var o=ye(e,t,r);n(o,r),u&&u(o,e,t)},s)}else{if(m(a)?(s=u,u=a):(s=a,u=t),i)return u&&u();o?u&&o.on("ready",u):(o=V.observable(),r(u,s))}}}();var be=V.mount;V.mount=function(e,t,n){var r;return V.compile(function(){r=be(e,t,n)}),r},typeof exports===re?module.exports=V:typeof define===ie&&typeof define.amd!==oe?define(function(){return V}):e.riot=V}("undefined"!=typeof window?window:void 0);
>>>>>>> dev
