/* Riot v3.0.0-alpha.6, @license MIT */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.riot=e.riot||{})}(this,function(e){"use strict";function t(e){return Ee.test(e)}function n(e){return Me.test(e)}function r(e){return typeof e===be||!1}function i(e){return e&&typeof e===ye}function o(e){return typeof e===xe}function a(e){return typeof e===ve}function u(e){return o(e)||null===e||""===e}function s(e){return Array.isArray(e)||e instanceof Array}function l(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return o(e[t])||n&&n.writable}function c(e){return Oe.test(e)}function f(e,t){return(t||document).querySelectorAll(e)}function p(e,t){return(t||document).querySelector(e)}function d(e,t){return t?document.createElementNS("http://www.w3.org/2000/svg","svg"):document.createElement(e)}function h(e){if(e.outerHTML)return e.outerHTML;var t=d("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}function g(e,t){if(o(e.innerHTML)){var n=(new DOMParser).parseFromString(t,"application/xml"),r=e.ownerDocument.importNode(n.documentElement,!0);e.appendChild(r)}else e.innerHTML=t}function m(e,t){e.removeAttribute(t)}function v(e,t){return e.getAttribute(t)}function y(e,t,n){var r=_e.exec(t);r&&r[1]?e.setAttributeNS(we,r[1],n):e.setAttribute(t,n)}function x(e,t){if(e)for(var n;n=Le.exec(e);)t(n[1].toLowerCase(),n[2]||n[3]||n[4])}function b(e,t,n){if(e){var r,i=t(e,n);if(i===!1)return;for(e=e.firstChild;e;)r=e.nextSibling,b(e,t,i),e=r}}function w(e){return Object.assign?Object.assign({},e):Object.create(e||null)}function _(e,t){for(var n,r=e?e.length:0,i=0;i<r;++i)n=e[i],null!=n&&t(n,i)===!1&&i--;return e}function N(e,t){return~e.indexOf(t)}function C(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})}function T(e,t){return e.slice(0,t.length)===t}function O(e,t,n,r){return Object.defineProperty(e,t,E({value:n,enumerable:!1,writable:!1,configurable:!0},r)),e}function E(e){for(var t,n=arguments,r=1;r<n.length;++r)if(t=n[r])for(var i in t)l(e,i)&&(e[i]=t[i]);return e}function L(e,t,n,r){var i=function(e){var i=r._parent,o=r._item;if(!o)for(;i&&!o;)o=i._item,i=i._parent;e=e||Ne.event,l(e,"currentTarget")&&(e.currentTarget=n),l(e,"target")&&(e.target=e.srcElement),l(e,"which")&&(e.which=e.charCode||e.keyCode),e.item=o,t.call(r,e),e.preventUpdate||J(r).update()};if(!n.addEventListener)return void(n[e]=i);var o=e.replace(/^on/,"");n._eventHandlers&&n._eventHandlers[o]&&n.removeEventListener(o,n._eventHandlers[o]),n._eventHandlers||(n._eventHandlers={}),n._eventHandlers[o]=i,n.addEventListener(o,i,!1)}function M(e,t){_(e,function(e,n){var i=e.dom,o=e.attr,a=Pe(e.expr,t),u="value"==o,s=i&&(e.parent||i.parentNode);if(e.bool?a=!!a&&o:null==a&&(a=""),e._riot_id){if(e.isMounted)e.update();else if(e.mount(),"VIRTUAL"==e.root.tagName){var l=document.createDocumentFragment();ue(e,l),e.root.parentElement.replaceChild(l,e.root)}}else{if(e.update)return void e.update();var c=e.value;if(e.value=a,e.isRtag&&a)return j(e,t);if(!(u&&i.value==a||!u&&c===a)){if(!o)return a+="",void(s&&(e.parent=s,"TEXTAREA"===s.tagName?(s.value=a,je||(i.nodeValue=a)):i.nodeValue=a));if(m(i,o),r(a))L(o,a,i,t);else if(/^(show|hide)$/.test(o))"hide"==o&&(a=!a),i.style.display=a?"":"none";else if("value"==o)i.value=a;else if(T(o,ge)&&o!=me)a&&y(i,o.slice(ge.length),a);else{if("selected"==o&&s&&/^(SELECT|OPTGROUP)$/.test(s.nodeName)&&a&&(s.value=i.value),e.bool&&(i[o]=a,!a))return;(0===a||a&&typeof a!==ye)&&y(i,o,a)}}}})}function j(e,t){var n,r=Pe(e.value,t);if(e.tag&&e.tagName==r)return void e.tag.update();if(e.tag){var i=e.tag.opts.dataIs,o=e.tag._parent.tags;ie(o,i,e.tag)}e.impl=de[r],n={root:e.dom,parent:t,hasImpl:!0,tagName:r},e.tag=Y(e.impl,n,e.dom.innerHTML,t),e.tagName=r,e.tag.mount(),e.tag.update(),t.on("unmount",function(){var t=e.tag.opts.dataIs,n=e.tag.parent.tags,r=e.tag._parent.tags;ie(n,t,e.tag),ie(r,t,e.tag),e.tag.unmount()})}function S(e,t,n){m(e,"if"),this.parentTag=t,this.expr=n,this.stub=document.createTextNode(""),this.pristine=e;var r=e.parentNode;r.insertBefore(this.stub,e),r.removeChild(e)}function H(e,t,n,r){this.dom=e,this.attr=t,this.rawValue=n,this.parent=r,this.hasExp=Pe.hasExpr(n),this.firstRun=!0}function R(e,t,n,r){var i=r?Object.create(r):{};return i[e.key]=t,e.pos&&(i[e.pos]=n),i}function k(e,t,n,r){for(var i,o=t.length,a=e.length;o>a;)i=t[--o],t.splice(o,1),i.unmount(),ie(r.tags,n,i,!0)}function A(e,t){Object.keys(e.tags).forEach(function(n){var r=e.tags[n];s(r)?_(r,function(e){X(e,n,t)}):X(r,n,t)})}function I(e,t,n){m(e,"each");var r,i=typeof v(e,"no-reorder")!==ve||m(e,"no-reorder"),o=te(e),a=de[o]||{tmpl:h(e)},u=Ce.test(o),l=e.parentNode,c=document.createTextNode(""),f=W(e),p="option"===o.toLowerCase(),d=[],g=[],y="VIRTUAL"==e.tagName;n=Pe.loopKeys(n),n.isLoop=!0;var x=v(e,"if");return x&&m(e,"if"),l.insertBefore(c,e),l.removeChild(e),n.update=function(){var h=Pe(n.val,t),m=document.createDocumentFragment();if(l=c.parentNode,s(h)||(r=h||!1,h=r?Object.keys(h).map(function(e){return R(n,e,h[e])}):[]),x&&(h=h.filter(function(e,r){var i=R(n,e,r,t);return!!Pe(x,i)})),h.forEach(function(s,c){var p,h=i&&typeof s==ye&&!r,v=g.indexOf(s),x=~v&&h?v:c,b=d[x];s=!r&&n.key?R(n,s,c):s,!h&&!b||h&&!~v||!b?(b=new Q(a,{parent:t,isLoop:!0,anonymous:!de[o],root:u?l:e.cloneNode(),item:s},e.innerHTML),b.mount(),p=b.root,c==d.length?y?ue(b,m):m.appendChild(p):(y?ue(b,l,d[c]):l.insertBefore(p,d[c].root),g.splice(c,0,s)),d.splice(c,0,b),f&&re(t.tags,o,b,!0),x=c):b.update(s),x!==c&&h&&(y?se(b,l,d[c],e.childNodes.length):d[c].root.parentNode&&l.insertBefore(b.root,d[c].root),n.pos&&(b[n.pos]=c),d.splice(c,0,d.splice(x,1)[0]),g.splice(c,0,g.splice(x,1)[0]),!f&&b.tags&&A(b,c)),b._item=s,O(b,"_parent",t)}),k(h,d,o,t),l.insertBefore(m,c),p&&Se&&!l.multiple)for(var v=0;v<l.length;v++)if(l[v].__riot1374){l.selectedIndex=v,delete l[v].__riot1374;break}g=h.slice()},n.unmount=function(){_(d,function(e){e.unmount()})},n}function $(e,t,n,r){var i={parent:{children:n}};b(e,function(n,i){var o,a,u=n.nodeType,s=i.parent;if(!r&&n===e)return{parent:s};if(3==u&&"STYLE"!=n.parentNode.tagName&&Pe.hasExpr(n.nodeValue)&&s.children.push({dom:n,expr:n.nodeValue}),1!=u)return i;if(o=v(n,"each"))return s.children.push(I(n,t,o)),!1;if(o=v(n,"if"))return s.children.push(new S(n,t,o)),!1;if((a=v(n,me))&&Pe.hasExpr(a))return s.children.push({isRtag:!0,expr:a,dom:n}),!1;var l=W(n);if(l&&(n!==e||r)){var c={root:n,parent:t,hasImpl:!0};return s.children.push(Y(l,c,n.innerHTML,t)),!1}return P(n,n.attributes,t,function(e,t){t&&s.children.push(t)}),{parent:s}},i)}function P(e,t,r,i){_(t,function(t){var o,a=t.name,u=n(a);~["ref","data-ref"].indexOf(a)?o=new H(e,a,t.value,r):Pe.hasExpr(t.value)&&(o={dom:e,expr:t.value,attr:t.name,bool:u}),i(t,o)})}function B(e,t,n){var r="o"===n[0],i=r?"select>":"table>";if(e.innerHTML="<"+i+t.trim()+"</"+i,i=e.firstChild,r)i.selectedIndex=-1;else{var o=Ge[n];o&&1===i.childElementCount&&(i=p(o,i))}return i}function F(e,t){if(!De.test(e))return e;var n={};return t=t&&t.replace(Ue,function(e,t,r){return n[t]=n[t]||r,""}).trim(),e.replace(ze,function(e,t,r){return n[t]||r||""}).replace(Ve,function(e,n){return t||n||""})}function D(e,n){var r=e&&e.match(/^\s*<([-\w]+)/),i=r&&r[1].toLowerCase(),o=d(qe,t(i));return e=F(e,n),Ke.test(i)?o=B(o,e,i):g(o,e),o.stub=!0,o}function V(e,t){var n=this,r=n.name,i=n.tmpl,o=n.css,a=n.attrs,u=n.onCreate;return de[r]||(U(r,i,o,a,u),de[r].class=this.constructor),ae(e,r,t,this),this}function U(e,t,n,i,o){return r(i)&&(o=i,/^[\w\-]+\s?=/.test(n)?(i=n,n=""):i=""),n&&(r(n)?o=n:Ie.add(n)),e=e.toLowerCase(),de[e]={name:e,tmpl:t,attrs:i,fn:o},e}function z(e,t,n,r,i){n&&Ie.add(n,e);var o=!!de[e];return de[e]={name:e,tmpl:t,attrs:r,fn:i},o&&riot.util.hotReloader&&riot.util.hotReloader(e),e}function G(e,t,n){function r(e){if(e.tagName){var i=v(e,me);t&&i!==t&&(i=t,y(e,me,t));var a=ae(e,i||e.tagName.toLowerCase(),n);a&&o.push(a)}else e.length&&_(e,r)}var o=[];Ie.inject(),i(t)&&(n=t,t=0);var u,s;if(a(e)?(e="*"===e?s=le():e+le(e.split(/, */)),u=e?f(e):[]):u=e,"*"===t){if(t=s||le(),u.tagName)u=f(t,u);else{var l=[];_(u,function(e){return l.push(f(t,e))}),u=l}t=0}return r(u),o}function K(e,t,n){if(i(e))return void K("__unnamed_"+We++,e,!0);var a=n?Qe:Ze;if(!t){if(o(a[e]))throw new Error("Unregistered mixin: "+e);return a[e]}a[e]=r(t)?E(t.prototype,a[e]||{})&&t:E(a[e]||{},t)}function q(){return _(pe,function(e){return e.update()})}function Z(e){delete de[e]}function Q(e,t,n){function u(){if(!v||!b){var e=!b&&v?d:g||d;_(L,function(t){t.expr&&M([t.expr],e),h[C(t.name)]=t.expr?t.expr.value:t.value})}}function s(e){for(var t in T)!o(d[t])&&l(d,t)&&(d[t]=e[t])}function f(e){_(Object.keys(e),function(t){var n=!c(t)&&N(A,t);(o(d[t])||n)&&(n||A.push(t),d[t]=e[t])})}var p,d=Fe(this),h=w(t.opts),g=t.parent,v=t.isLoop,b=t.anonymous,T=ne(t.item),L=[],j=[],S=[],R=t.root,k=t.tagName||R.tagName.toLowerCase(),A=[];e.name&&R._tag&&R._tag.unmount(!0),this.isMounted=!1,R.isLoop=v,this._internal={anonymous:b,origAttrs:L,innerHTML:n},O(this,"_riot_id",++Xe),E(this,{parent:g,root:R,opts:h},T),O(this,"tags",{}),O(this,"refs",{}),p=D(e.tmpl,n),O(this,"update",function(e){if(!r(d.shouldUpdate)||d.shouldUpdate())return e=ne(e),v&&b&&f(d.parent),e&&i(T)&&(s(e),T=e),E(d,e),u(),d.isMounted&&d.trigger("update",e),M(S,d),d.isMounted&&d.trigger("updated"),this}),O(this,"mixin",function(){return _(arguments,function(e){var t,n,i=[];e=a(e)?K(e):e,t=r(e)?new e:e;do i=i.concat(Object.getOwnPropertyNames(n||t));while(n=Object.getPrototypeOf(n||t));_(i,function(e){if("init"!=e){var n=Object.getOwnPropertyDescriptor(t,e),i=n&&(n.get||n.set);!d.hasOwnProperty(e)&&i?Object.defineProperty(d,e,n):d[e]=r(t[e])?t[e].bind(d):t[e]}}),t.init&&t.init.bind(d)()}),this}),O(this,"mount",function(t){R._tag=this;var n=K(he);if(n)for(var r in n)n.hasOwnProperty(r)&&d.mixin(n[r]);if(P(R,R.attributes,g,function(e,t){!b&&t instanceof H&&(t.tag=d),e.expr=t,L.push(e)}),d._parent&&b&&f(d._parent),u(),e.fn&&e.fn.call(d,h),j=[],x(e.attrs,function(e,t){j.push({name:e,value:t})}),P(R,j,d,function(e,t){t?S.push(t):y(R,e.name,e.value)}),$(p,d,S,!1),d.update(T),d.trigger("before-mount"),v&&b)d.root=R=p.firstChild;else{for(;p.firstChild;)R.appendChild(p.firstChild);R.stub&&(R=g.root)}O(d,"root",R),d.isMounted=!0,!d.parent||d.parent.isMounted?d.trigger("mount"):d.parent.one("mount",function(){d.trigger("mount")})}),O(this,"unmount",function(e){var t,n=d.root,r=n.parentNode,i=pe.indexOf(d);if(d.trigger("before-unmount"),~i&&pe.splice(i,1),r){if(g)t=J(g),ie(t.tags,k,d);else for(;n.firstChild;)n.removeChild(n.firstChild);e?m(r,me):r.removeChild(n)}this._virts&&_(this._virts,function(e){e.parentNode&&e.parentNode.removeChild(e)}),ee(S),d.trigger("unmount"),d.off("*"),d.isMounted=!1,delete d.root._tag,d.root._eventHandlers&&(_(Object.keys(d.root._eventHandlers),function(e){d.root.removeEventListener(e,d.root._eventHandlers[e])}),delete d.root._eventHandlers)})}function W(e){return e.tagName&&de[v(e,me)||v(e,me)||e.tagName.toLowerCase()]}function X(e,t,n){var r,i=e.parent;i&&(r=i.tags[t],s(r)?r.splice(n,0,r.splice(r.indexOf(e),1)[0]):re(i.tags,t,e))}function Y(e,t,n,r){var i=new Q(e,t,n),o=t.tagName||te(t.root,!0),a=J(r);return i.parent=a,i._parent=r,re(a.tags,o,i),a!==r&&re(r.tags,o,i),t.root.innerHTML="",i}function J(e){for(var t=e;t._internal.anonymous&&t.parent;)t=t.parent;return t}function ee(e){var t,n,r=e.length;for(t=0;t<r;t++)n=e[t],n instanceof Q?n.unmount(!0):n.unmount&&n.unmount()}function te(e,t){var n=W(e),r=!t&&v(e,"name"),i=r&&!Pe.hasExpr(r)?r:n?n.name:e.tagName.toLowerCase();return i}function ne(e){if(!(e instanceof Q||e&&typeof e.trigger==be))return e;var t={};for(var n in e)Oe.test(n)||(t[n]=e[n]);return t}function re(e,t,n,r){var i=e[t],o=s(i);i&&i===n||(!i&&r?e[t]=[n]:i?(!o||o&&!N(i,n))&&(o?i.push(n):e[t]=[i,n]):e[t]=n)}function ie(e,t,n,r){s(e[t])?(_(e[t],function(r,i){r===n&&e[t].splice(i,1)}),e[t].length?1!=e[t].length||r||(e[t]=e[t][0]):delete e[t]):delete e[t]}function oe(e){for(;e;){if(e.inStub)return!0;e=e.parentNode}return!1}function ae(e,t,n,r){var i=de[t],o=de[t].class,a=r||(o?Object.create(o.prototype):{}),u=e._innerHTML=e._innerHTML||e.innerHTML;e.innerHTML="";var s={root:e,opts:n};return n&&n.parent&&(s.parent=n.parent),i&&e&&Q.apply(a,[i,s,u]),a&&a.mount&&(a.mount(!0),N(pe,a)||pe.push(a)),a}function ue(e,t,n){var r,i,o=document.createTextNode(""),a=document.createTextNode(""),u=document.createDocumentFragment();for(e._head=e.root.insertBefore(o,e.root.firstChild),e._tail=e.root.appendChild(a),i=e._head,e._virts=[];i;)r=i.nextSibling,u.appendChild(i),e._virts.push(i),i=r;n?t.insertBefore(u,n._head):t.appendChild(u)}function se(e,t,n){for(var r,i=e._head,o=document.createDocumentFragment();i;)if(r=i.nextSibling,o.appendChild(i),i=r,i==e._tail){o.appendChild(i),t.insertBefore(o,n._head);break}}function le(e){if(!e){var t=Object.keys(de);return t+le(t)}return e.filter(function(e){return!/[^-\w]/.test(e)}).reduce(function(e,t){var n=t.trim().toLowerCase();return e+",["+me+'="'+n+'"]'},"")}var ce,fe,pe=[],de={},he="__global_mixin",ge="riot-",me="data-is",ve="string",ye="object",xe="undefined",be="function",we="http://www.w3.org/1999/xlink",_e=/^xlink:(\w+)/,Ne=typeof window===xe?void 0:window,Ce=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,Te=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,Oe=/^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|parent|opts|trigger|o(?:n|ff|ne))$/,Ee=/^(altGlyph|animate(?:Color)?|circle|clipPath|defs|ellipse|fe(?:Blend|ColorMatrix|ComponentTransfer|Composite|ConvolveMatrix|DiffuseLighting|DisplacementMap|Flood|GaussianBlur|Image|Merge|Morphology|Offset|SpecularLighting|Tile|Turbulence)|filter|font|foreignObject|g(?:lyph)?(?:Ref)?|image|line(?:arGradient)?|ma(?:rker|sk)|missing-glyph|path|pattern|poly(?:gon|line)|radialGradient|rect|stop|svg|switch|symbol|text(?:Path)?|tref|tspan|use)$/,Le=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,Me=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,je=0|(Ne&&Ne.document||{}).documentMode,Se=Ne&&!!Ne.InstallTrigger,He=Object.freeze({isSVGTag:t,isBoolAttr:n,isFunction:r,isObject:i,isUndefined:o,isString:a,isBlank:u,isArray:s,isWritable:l,isReservedName:c}),Re=Object.freeze({$$:f,$:p,mkEl:d,getOuterHTML:h,setInnerHTML:g,remAttr:m,getAttr:v,setAttr:y,walkAttrs:x,walkNodes:b}),ke={},Ae=[];Ne&&(ce=function(){var e=d("style");y(e,"type","text/css");var t=p("style[type=riot]");return t?(t.id&&(e.id=t.id),t.parentNode.replaceChild(e,t)):document.getElementsByTagName("head")[0].appendChild(e),e}(),fe=ce.styleSheet);var Ie={styleNode:ce,add:function(e,t){t?ke[t]=e:Ae.push(e)},inject:function(){if(Ne){var e=Object.keys(ke).map(function(e){return ke[e]}).concat(Ae).join("\n");fe?fe.cssText=e:ce.innerHTML=e}}},$e=function(e){function t(e){return e}function n(e,t){return t||(t=x),new RegExp(e.source.replace(/{/g,t[2]).replace(/}/g,t[3]),e.global?l:"")}function r(e){if(e===m)return v;var t=e.split(" ");if(2!==t.length||d.test(e))throw new Error('Unsupported brackets "'+e+'"');return t=t.concat(e.replace(h,"\\").split(" ")),t[4]=n(t[1].length>1?/{[\S\s]*?}/:v[4],t),t[5]=n(e.length>3?/\\({|})/g:v[5],t),t[6]=n(v[6],t),t[7]=RegExp("\\\\("+t[3]+")|([[({])|("+t[3]+")|"+p,l),t[8]=e,t}function i(e){return e instanceof RegExp?u(e):x[e]}function o(e){(e||(e=m))!==x[8]&&(x=r(e),u=e===m?t:n,x[9]=u(v[9])),y=e}function a(e){var t;e=e||{},t=e.brackets,Object.defineProperty(e,"brackets",{set:o,get:function(){return y},enumerable:!0}),s=e,o(t)}var u,s,l="g",c=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,f=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,p=f.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,d=RegExp("[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),h=/(?=[[\]()*+?.^$|])/g,g={"(":RegExp("([()])|"+p,l),"[":RegExp("([[\\]])|"+p,l),"{":RegExp("([{}])|"+p,l)},m="{ }",v=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+p,l),m,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],y=e,x=[];return i.split=function(e,t,n){function r(e){t||a?l.push(e&&e.replace(n[5],"$1")):l.push(e)}function i(e,t,n){var r,i=g[t];for(i.lastIndex=n,n=1;(r=i.exec(e))&&(!r[1]||(r[1]===t?++n:--n)););return n?e.length:i.lastIndex}n||(n=x);var o,a,u,s,l=[],c=n[6];for(a=u=c.lastIndex=0;o=c.exec(e);){if(s=o.index,a){if(o[2]){c.lastIndex=i(e,o[2],c.lastIndex);continue}if(!o[3])continue}o[1]||(r(e.slice(u,s)),u=c.lastIndex,c=n[6+(a^=1)],c.lastIndex=u)}return e&&u<e.length&&r(e.slice(u)),l},i.hasExpr=function(e){return x[4].test(e)},i.loopKeys=function(e){var t=e.match(x[9]);return t?{key:t[1],pos:t[2],val:x[0]+t[3].trim()+x[1]}:{val:e.trim()}},i.array=function(e){return e?r(e):x},Object.defineProperty(i,"settings",{set:a,get:function(){return s}}),i.settings="undefined"!=typeof riot&&riot.settings||{},i.set=o,i.R_STRINGS=f,i.R_MLCOMMS=c,i.S_QBLOCKS=p,i}(),Pe=function(){function e(e,r){return e?(a[e]||(a[e]=n(e))).call(r,t):e}function t(t,n){e.errorHandler&&(t.riotData={tagName:n&&n.root&&n.root.tagName,_riot_id:n&&n._riot_id},e.errorHandler(t))}function n(e){var t=r(e);return"try{return "!==t.slice(0,11)&&(t="return "+t),new Function("E",t+";")}function r(e){var t,n=[],r=$e.split(e.replace(c,'"'),1);if(r.length>2||r[0]){var o,a,u=[];for(o=a=0;o<r.length;++o)t=r[o],t&&(t=1&o?i(t,1,n):'"'+t.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(u[a++]=t);t=a<2?u[0]:"["+u.join(",")+'].join("")'}else t=i(r[1],0,n);return n[0]&&(t=t.replace(f,function(e,t){return n[t].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),t}function i(e,t,n){function r(t,n){var r,i=1,o=p[t];for(o.lastIndex=n.lastIndex;r=o.exec(e);)if(r[0]===t)++i;else if(!--i)break;n.lastIndex=i?e.length:o.lastIndex}if(e=e.replace(l,function(e,t){return e.length>2&&!t?u+(n.push(e)-1)+"~":e}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var i,a=[],c=0;e&&(i=e.match(s))&&!i.index;){var f,d,h=/,|([[{(])|$/g;for(e=RegExp.rightContext,f=i[2]?n[i[2]].slice(1,-1).trim().replace(/\s+/g," "):i[1];d=(i=h.exec(e))[1];)r(d,h);d=e.slice(0,i.index),e=RegExp.rightContext,a[c++]=o(d,1,f)}e=c?c>1?"["+a.join(",")+'].join(" ").trim()':a[0]:o(e,t)}return e}function o(e,t,n){var r;return e=e.replace(h,function(e,t,n,i,o){return n&&(i=r?0:i+e.length,"this"!==n&&"global"!==n&&"window"!==n?(e=t+'("'+n+d+n,i&&(r="."===(o=o[i])||"("===o||"["===o)):i&&(r=!g.test(o.slice(i)))),e}),r&&(e="try{return "+e+"}catch(e){E(e,this)}"),n?e=(r?"function(){"+e+"}.call(this)":"("+e+")")+'?"'+n+'":""':t&&(e="function(v){"+(r?e.replace("return ","v="):"v=("+e+")")+';return v||v===0?v:""}.call(this)'),e}var a={};e.haveRaw=$e.hasRaw,e.hasExpr=$e.hasExpr,e.loopKeys=$e.loopKeys,e.clearCache=function(){a={}},e.errorHandler=null;var u="⁗",s=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,l=RegExp($e.S_QBLOCKS,"g"),c=/\u2057/g,f=/\u2057(\d+)~/g,p={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},d='"in this?this:'+("object"!=typeof window?"global":"window")+").",h=/[,{][$\w]+(?=:)|(^ *|[^$\w\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,g=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return e.version=$e.version="v2.4.1",e}(),Be=Object.freeze({inherit:w,each:_,contains:N,toCamel:C,startsWith:T,defineProperty:O,extend:E}),Fe=function(e){e=e||{};var t={},n=Array.prototype.slice;return Object.defineProperties(e,{on:{value:function(n,r){return"function"==typeof r&&(t[n]=t[n]||[]).push(r),e},enumerable:!1,writable:!1,configurable:!1},off:{value:function(n,r){if("*"!=n||r)if(r)for(var i,o=t[n],a=0;i=o&&o[a];++a)i==r&&o.splice(a--,1);else delete t[n];else t={};return e},enumerable:!1,writable:!1,configurable:!1},one:{value:function(t,n){function r(){e.off(t,r),n.apply(e,arguments)}return e.on(t,r)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(r){var i,o,a,u=arguments,s=arguments.length-1,l=new Array(s);for(a=0;a<s;a++)l[a]=u[a+1];for(i=n.call(t[r]||[],0),a=0;o=i[a];++a)o.apply(e,l),i[a]!==o&&a--;return t["*"]&&"*"!=r&&e.trigger.apply(e,["*",r].concat(l)),e},enumerable:!1,writable:!1,configurable:!1}}),e};S.prototype={constructor:S,update:function(){var e=Pe(this.expr,this.parentTag);e&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=[],$(this.current,this.parentTag,this.expressions,!0)):!e&&this.current&&(ee(this.expressions),this.current.parentNode.removeChild(this.current),this.current=null,this.expressions=[]),e&&M(this.expressions,this.parentTag)},unmount:function(){ee(this.expressions||[]),delete this.pristine,delete this.parentNode,delete this.stub}},H.prototype={constructor:H,update:function(){var e=this.rawValue;if(this.hasExp&&(e=Pe(this.rawValue,this.parent)),this.firstRun||e!==this.value){var t=this.parent&&J(this.parent),n=this.tag||this.dom;!u(this.value)&&t&&ie(t.refs,this.value,n),u(e)?m(this.dom,this.attr):(t&&re(t.refs,e,n),y(this.dom,this.attr,e)),this.value=e,this.firstRun=!1}},unmount:function(){var e=this.tag||this.dom,t=this.parent&&J(this.parent);!u(this.value)&&t&&ie(t.refs,this.value,e),delete this.dom,delete this.parent}};var De=/<yield\b/i,Ve=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,Ue=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,ze=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,Ge={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},Ke=je&&je<10?Ce:Te,qe="div",Ze={},Qe=Ze[he]={},We=0,Xe=0,Ye=Object.freeze({getTag:W,moveChildTag:X,initChildTag:Y,getImmediateCustomParentTag:J,unmountAll:ee,getTagName:te,cleanUpData:ne,arrayishAdd:re,arrayishRemove:ie,isInStub:oe,mountTo:ae,makeVirtual:ue,moveVirtual:se,selectTags:le}),Je={tmpl:Pe,brackets:$e,styleManager:Ie,styleNode:Ie.styleNode,dom:Re,check:He,misc:Be,tags:Ye},et=$e.settings;e.util=Je,e.settings=et,e.observable=Fe,e.vdom=pe,e.Tag=V,e.tag=U,e.tag2=z,e.mount=G,e.mixin=K,e.update=q,e.unregister=Z,Object.defineProperty(e,"__esModule",{value:!0})});
