<<<<<<< HEAD
/* Riot v3.0.0-alpha.5, @license MIT */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.riot=e.riot||{})}(this,function(e){"use strict";function t(e,t,n,r){var i=function(e){var i=r._parent,o=r._item;if(!o)for(;i&&!o;)o=i._item,i=i._parent;e=e||me.event,z(e,"currentTarget")&&(e.currentTarget=n),z(e,"target")&&(e.target=e.srcElement),z(e,"which")&&(e.which=e.charCode||e.keyCode),e.item=o,t.call(r,e),e.preventUpdate||P(r).update()};if(!n.addEventListener)return void(n[e]=i);var o=e.replace(/^on/,"");n._eventHandlers&&n._eventHandlers[o]&&n.removeEventListener(o,n._eventHandlers[o]),n._eventHandlers||(n._eventHandlers={}),n._eventHandlers[o]=i,n.addEventListener(o,i,!1)}function n(e,n){_(e,function(e,i){var o=e.dom,a=e.attr,u=Le(e.expr,n),s=o&&o.parentNode,f="value"==a;if(e.bool?u=!!u&&a:null==u&&(u=""),e._riot_id){if(e.isMounted)e.update();else if(e.mount(),"VIRTUAL"==e.root.tagName){var l=document.createDocumentFragment();ie(e,l),e.root.parentElement.replaceChild(l,e.root)}}else{if(e.update)return void e.update();var c=e.value;if(e.value=u,e.isRtag&&u)return r(e,n);if(!(f&&o.value==u||!f&&c===u)){if(!a)return u+="",void(s&&("TEXTAREA"===s.tagName?(s.value=u,_e||(o.nodeValue=u)):o.nodeValue=u));if(H(o,a),N(u))t(a,u,o,n);else if(/^(show|hide)$/.test(a))"hide"==a&&(u=!u),o.style.display=u?"":"none";else if("value"==a)o.value=u;else if(ne(a,le)&&a!=ce)u&&k(o,a.slice(le.length),u);else{if("selected"==a&&s&&/^(SELECT|OPTGROUP)$/.test(s.nodeName)&&u&&(s.value=o.value),e.bool&&(o[a]=u,!u))return;(0===u||u&&("undefined"==typeof u?"undefined":ae(u))!==he)&&k(o,a,u)}}}})}function r(e,t){var n,r=Le(e.value,t);if(e.tag&&e.tagName==r)return void e.tag.update();if(e.tag){var i=e.tag.opts.riotTag,o=e.tag._parent.tags[i];K(o)?o.splice(o.indexOf(e.tag),1):delete e.tag._parent.tags[i]}e.impl=se[r],n={root:e.dom,parent:t,hasImpl:!0,tagName:r},e.tag=$(e.impl,n,e.dom.innerHTML,t),e.tagName=r,e.tag.mount(),e.tag.update()}function i(e,t,n){H(e,"if"),this.parentTag=t,this.expr=n,this.stub=document.createTextNode(""),this.pristine=e;var r=e.parentNode;r.insertBefore(this.stub,e),r.removeChild(e)}function o(e,t,n,r){this.dom=e,this.attr=t,this.rawValue=n,this.parent=r,this.hasExp=Le.hasExpr(n),this.firstRun=!0}function a(e,t,n,r){var i=r?Object.create(r):{};return i[e.key]=t,e.pos&&(i[e.pos]=n),i}function u(e,t,n,r){for(var i,o=t.length,a=e.length;o>a;)i=t[--o],t.splice(o,1),i.unmount(),te(r.tags,n,i,!0)}function s(e,t){Object.keys(e.tags).forEach(function(n){var r=e.tags[n];K(r)?_(r,function(e){A(e,n,t)}):A(r,n,t)})}function f(e,t,n){H(e,"each");var r,i=ae(R(e,"no-reorder"))!==pe||H(e,"no-reorder"),o=D(e),f=se[o]||{tmpl:C(e)},l=ye.test(o),c=e.parentNode,d=document.createTextNode(""),p=I(e),h="option"===o.toLowerCase(),g=[],v=[],m="VIRTUAL"==e.tagName;n=Le.loopKeys(n),n.isLoop=!0;var y=R(e,"if");return y&&H(e,"if"),c.insertBefore(d,e),c.removeChild(e),n.update=function(){var x=Le(n.val,t),b=document.createDocumentFragment();if(c=d.parentNode,K(x)||(r=x||!1,x=r?Object.keys(x).map(function(e){return a(n,e,x[e])}):[]),y&&(x=x.filter(function(e,r){var i=a(n,e,r,t);return!!Le(y,i)})),x.forEach(function(u,d){var h,y=i&&("undefined"==typeof u?"undefined":ae(u))==he&&!r,x=v.indexOf(u),_=~x&&y?x:d,N=g[_];u=!r&&n.key?a(n,u,d):u,!y&&!N||y&&!~x||!N?(N=new w(f,{parent:t,isLoop:!0,anonymous:!se[o],root:l?c:e.cloneNode(),item:u},e.innerHTML),N.mount(),h=N.root,d==g.length?m?ie(N,b):b.appendChild(h):(m?ie(N,c,g[d]):c.insertBefore(h,g[d].root),v.splice(d,0,u)),g.splice(d,0,N),p&&ee(t.tags,o,N,!0),_=d):N.update(u),_!==d&&y&&(m?oe(N,c,g[d],e.childNodes.length):g[d].root.parentNode&&c.insertBefore(N.root,g[d].root),n.pos&&(N[n.pos]=d),g.splice(d,0,g.splice(_,1)[0]),v.splice(d,0,v.splice(_,1)[0]),!p&&N.tags&&s(N,d)),N._item=u,F(N,"_parent",t)}),u(x,g,o,t),c.insertBefore(b,d),h&&Ne&&!c.multiple)for(var _=0;_<c.length;_++)if(c[_].__riot1374){c.selectedIndex=_,delete c[_].__riot1374;break}v=x.slice()},n.unmount=function(){_(g,function(e){e.unmount()})},n}function l(e,t,n,r){var o={parent:{children:n}};Z(e,function(n,o){var a,u,s=n.nodeType,l=o.parent;if(!r&&n===e)return{parent:l};if(3==s&&"STYLE"!=n.parentNode.tagName&&Le.hasExpr(n.nodeValue)&&l.children.push({dom:n,expr:n.nodeValue}),1!=s)return o;if(a=R(n,"each"))return l.children.push(f(n,t,a)),!1;if(a=R(n,"if"))return l.children.push(new i(n,t,a)),!1;if((u=R(n,ce))&&Le.hasExpr(u))return l.children.push({isRtag:!0,expr:u,dom:n}),!1;var d=I(n);if(d&&(n!==e||r)){var p={root:n,parent:t,hasImpl:!0};return l.children.push($(d,p,n.innerHTML,t)),!1}return c(n,n.attributes,t,function(e,t){t&&l.children.push(t)}),{parent:l}},o)}function c(e,t,n,r){_(t,function(t){var i,a=t.name,u=we.test(a);"name"===a||"id"===a?i=new o(e,a,t.value,n):Le.hasExpr(t.value)&&(i={dom:e,expr:t.value,attr:t.name,bool:u}),r(t,i)})}function d(e,t,n){var r="o"===n[0],i=r?"select>":"table>";if(e.innerHTML="<"+i+t.trim()+"</"+i,i=e.firstChild,r)i.selectedIndex=-1;else{var o=Re[n];o&&1===i.childElementCount&&(i=J(o,i))}return i}function p(e,t){if(!Me.test(e))return e;var n={};return t=t&&t.replace(He,function(e,t,r){return n[t]=n[t]||r,""}).trim(),e.replace(je,function(e,t,r){return n[t]||r||""}).replace(Se,function(e,n){return t||n||""})}function h(e,t){var n=e&&e.match(/^\s*<([-\w]+)/),r=n&&n[1].toLowerCase(),i=X(Ie,L(r));return e=p(e,t),ke.test(r)?i=d(i,e,r):E(i,e),i.stub=!0,i}function g(e,t,n,r,i){return N(r)&&(i=r,/^[\w\-]+\s?=/.test(n)?(r=n,n=""):r=""),n&&(N(n)?i=n:Ue.add(n)),e=e.toLowerCase(),se[e]={name:e,tmpl:t,attrs:r,fn:i},e}function v(e,t,n,r,i){n&&Ue.add(n,e);var o=!!se[e];return se[e]={name:e,tmpl:t,attrs:r,fn:i},o&&riot.util.hotReloader&&riot.util.hotReloader(e),e}function m(e,t,n){function r(e){if(e.tagName){var o=R(e,de)||R(e,ce);t&&o!==t&&(o=t,k(e,de,t),k(e,ce,t));var a=re(e,o||e.tagName.toLowerCase(),n);a&&i.push(a)}else e.length&&_(e,r)}var i=[];Ue.inject(),T(t)&&(n=t,t=0);var o=void 0,a=void 0;if(M(e)?(e="*"===e?a=U():e+U(e.split(/, */)),o=e?Y(e):[]):o=e,"*"===t){if(t=a||U(),o.tagName)o=Y(t,o);else{var u=[];_(o,function(e){return u.push(Y(t,e))}),o=u}t=0}return r(o),i}function y(e,t,n){if(T(e))return void y("__unnamed_"+Pe++,e,!0);var r=n?$e:Ae;if(!t){if(O(r[e]))throw new Error("Unregistered mixin: "+e);return r[e]}r[e]=N(t)?V(t.prototype,r[e]||{})&&t:V(r[e]||{},t)}function x(){return _(ue,function(e){return e.update()})}function b(e){delete se[e]}function w(e,t,r){function i(){if(!g||!v){var e=!v&&g?f:p||f;_(x,function(t){t.expr&&n([t.expr],e),d[j(t.name)]=t.expr?t.expr.value:t.value})}}function a(e){for(var t in m)ae(f[t])!==ge&&z(f,t)&&(f[t]=e[t])}function u(e){_(Object.keys(e),function(t){var n=!xe.test(t)&&G(L,t);(ae(f[t])===ge||n)&&(n||L.push(t),f[t]=e[t])})}var s,f=Ce(this),d=W(t.opts)||{},p=t.parent,g=t.isLoop,v=t.anonymous,m=q(t.item),x=[],b=[],w=[],C=t.root,E=t.tagName||C.tagName.toLowerCase(),L=[];e.name&&C._tag&&C._tag.unmount(!0),this.isMounted=!1,C.isLoop=g,this._internal={anonymous:v,origAttrs:x,innerHTML:r},F(this,"_riot_id",++Be),V(this,{parent:p,root:C,opts:d},m),F(this,"tags",{}),s=h(e.tmpl,r),F(this,"update",function(e){if(!N(f.shouldUpdate)||f.shouldUpdate())return e=q(e),g&&v&&u(f.parent),e&&T(m)&&(a(e),m=e),V(f,e),i(),f.isMounted&&f.trigger("update",e),n(w,f),f.isMounted&&f.trigger("updated"),this}),F(this,"mixin",function(){return _(arguments,function(e){var t,n,r=[];e=("undefined"==typeof e?"undefined":ae(e))===pe?y(e):e,t=N(e)?new e:e;do r=r.concat(Object.getOwnPropertyNames(n||t));while(n=Object.getPrototypeOf(n||t));_(r,function(e){if("init"!=e){var n=Object.getOwnPropertyDescriptor(t,e),r=n&&(n.get||n.set);!f.hasOwnProperty(e)&&r?Object.defineProperty(f,e,n):f[e]=N(t[e])?t[e].bind(f):t[e]}}),t.init&&t.init.bind(f)()}),this}),F(this,"mount",function(t){C._tag=this;var n=y(fe);if(n)for(var r in n)n.hasOwnProperty(r)&&f.mixin(n[r]);if(c(C,C.attributes,p,function(e,t){!v&&t instanceof o&&(t.tag=f),e.expr=t,x.push(e)}),f._parent&&v&&u(f._parent),i(),e.fn&&e.fn.call(f,d),b=[],Q(e.attrs,function(e,t){b.push({name:e,value:t})}),c(C,b,f,function(e,t){t?w.push(t):k(C,e.name,e.value)}),l(s,f,w,!1),f.update(m),f.trigger("before-mount"),g&&v)f.root=C=s.firstChild;else{for(;s.firstChild;)C.appendChild(s.firstChild);C.stub&&(f.root=C=p.root)}F(f,"root",C),f.isMounted=!0,!f.parent||f.parent.isMounted?f.trigger("mount"):f.parent.one("mount",function(){f.trigger("mount")})}),F(this,"unmount",function(e){var t,n=f.root,r=n.parentNode,i=ue.indexOf(f);if(f.trigger("before-unmount"),~i&&ue.splice(i,1),r){if(p)t=P(p),te(t.tags,E,f);else for(;n.firstChild;)n.removeChild(n.firstChild);e?(H(r,de),H(r,ce)):r.removeChild(n)}this._virts&&_(this._virts,function(e){e.parentNode&&e.parentNode.removeChild(e)}),B(w),f.trigger("unmount"),f.off("*"),f.isMounted=!1,delete f.root._tag,f.root._eventHandlers&&(_(Object.keys(f.root._eventHandlers),function(e){f.root.removeEventListener(e,f.root._eventHandlers[e])}),delete f.root._eventHandlers)})}function _(e,t){for(var n,r=e?e.length:0,i=0;i<r;i++)n=e[i],null!=n&&t(n,i)===!1&&i--;return e}function N(e){return("undefined"==typeof e?"undefined":ae(e))===ve||!1}function C(e){if(e.outerHTML)return e.outerHTML;var t=X("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}function E(e,t){if(ae(e.innerHTML)!=ge)e.innerHTML=t;else{var n=(new DOMParser).parseFromString(t,"application/xml");e.appendChild(e.ownerDocument.importNode(n.documentElement,!0))}}function L(e){return~be.indexOf(e)}function T(e){return e&&("undefined"==typeof e?"undefined":ae(e))===he}function O(e){return("undefined"==typeof e?"undefined":ae(e))===ge}function M(e){return("undefined"==typeof e?"undefined":ae(e))===pe}function S(e){return("undefined"==typeof e?"undefined":ae(e))===ge||null===e||""===e}function H(e,t){e.removeAttribute(t)}function j(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})}function R(e,t){return e.getAttribute(t)}function k(e,t,n){e.setAttribute(t,n)}function I(e){return e.tagName&&se[R(e,de)||R(e,ce)||e.tagName.toLowerCase()]}function A(e,t,n){var r,i=e.parent;i&&(r=i.tags[t],K(r)?r.splice(n,0,r.splice(r.indexOf(e),1)[0]):ee(i.tags,t,e))}function $(e,t,n,r){var i=new w(e,t,n),o=t.tagName||D(t.root,!0),a=P(r);return i.parent=a,i._parent=r,ee(a.tags,o,i),a!==r&&ee(r.tags,o,i),t.root.innerHTML="",i}function P(e){for(var t=e;t._internal.anonymous&&t.parent;)t=t.parent;return t}function B(e){var t,n,r=e.length;for(t=0;t<r;t++)n=e[t],n instanceof w?n.unmount(!0):n.unmount&&n.unmount()}function F(e,t,n,r){return Object.defineProperty(e,t,V({value:n,enumerable:!1,writable:!1,configurable:!0},r)),e}function D(e,t){var n=I(e),r=!t&&R(e,"name"),i=r&&!Le.hasExpr(r)?r:n?n.name:e.tagName.toLowerCase();return i}function U(e){if(!e){var t=Object.keys(se);return t+U(t)}return e.filter(function(e){return!/[^-\w]/.test(e)}).reduce(function(e,t){var n=t.trim().toLowerCase();return e+(",["+de+'="'+n+'"]')},"")}function V(e){for(var t,n=arguments,r=1;r<n.length;++r)if(t=n[r])for(var i in t)z(e,i)&&(e[i]=t[i]);return e}function G(e,t){return~e.indexOf(t)}function K(e){return Array.isArray(e)||e instanceof Array}function z(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return ae(e[t])===ge||n&&n.writable}function q(e){if(!(e instanceof w||e&&ae(e.trigger)==ve))return e;var t={};for(var n in e)xe.test(n)||(t[n]=e[n]);return t}function Z(e,t,n){if(e){var r,i=t(e,n);if(i===!1)return;for(e=e.firstChild;e;)r=e.nextSibling,Z(e,t,i),e=r}}function Q(e,t){if(e)for(var n,r=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;n=r.exec(e);)t(n[1].toLowerCase(),n[2]||n[3]||n[4])}function X(e,t){return t?document.createElementNS("http://www.w3.org/2000/svg","svg"):document.createElement(e)}function Y(e,t){return(t||document).querySelectorAll(e)}function J(e,t){return(t||document).querySelector(e)}function W(e){function t(){}return t.prototype=e,new t}function ee(e,t,n,r){var i=e[t],o=K(i);i&&i===n||(!i&&r?e[t]=[n]:i?(!o||o&&!G(i,n))&&(o?i.push(n):e[t]=[i,n]):e[t]=n)}function te(e,t,n,r){K(e[t])?(_(e[t],function(r,i){r===n&&e[t].splice(i,1)}),e[t].length?1!=e[t].length||r||(e[t]=e[t][0]):delete e[t]):delete e[t]}function ne(e,t){return e.slice(0,t.length)===t}function re(e,t,n){var r=se[t],i=e._innerHTML=e._innerHTML||e.innerHTML;e.innerHTML="";var o={root:e,opts:n};return n&&n.parent&&(o.parent=n.parent),r&&e&&(r=new w(r,o,i)),r&&r.mount&&(r.mount(!0),G(ue,r)||ue.push(r)),r}function ie(e,t,n){var r,i,o=document.createTextNode(""),a=document.createTextNode("");for(e._head=e.root.insertBefore(o,e.root.firstChild),e._tail=e.root.appendChild(a),i=e._head,e._virts=[];i;)r=i.nextSibling,n?t.insertBefore(i,n._head):t.appendChild(i),e._virts.push(i),i=r}function oe(e,t,n){for(var r,i=e._head;i;)if(r=i.nextSibling,t.insertBefore(i,n._head),i=r,i==e._tail){t.insertBefore(i,n._head);break}}var ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},ue=[],se={},fe="__global_mixin",le="riot-",ce="data-is",de="data-is",pe="string",he="object",ge="undefined",ve="function",me=("undefined"==typeof window?"undefined":ae(window))==ge?void 0:window,ye=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,xe=/^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|parent|opts|trigger|o(?:n|ff|ne))$/,be=["altGlyph","animate","animateColor","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","filter","font","foreignObject","g","glyph","glyphRef","image","line","linearGradient","marker","mask","missing-glyph","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tref","tspan","use"],we=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,_e=0|(me&&me.document||{}).documentMode,Ne=me&&!!me.InstallTrigger,Ce=function(e){function t(e,t){for(var n,r,i=e.split(" "),o=i.length,a=0;a<o;a++)n=i[a],r=n.indexOf("."),n&&t(~r?n.substring(0,r):n,a,~r?n.slice(r+1):null)}e=e||{};var n={},r=Array.prototype.slice;return Object.defineProperties(e,{on:{value:function(r,i){return"function"!=typeof i?e:(t(r,function(e,t,r){(n[e]=n[e]||[]).push(i),i.typed=t>0,i.ns=r}),e)},enumerable:!1,writable:!1,configurable:!1},off:{value:function(r,i){return"*"!=r||i?t(r,function(e,t,r){if(i||r)for(var o,a=n[e],u=0;o=a&&a[u];++u)(o==i||r&&o.ns==r)&&a.splice(u--,1);else delete n[e]}):n={},e},enumerable:!1,writable:!1,configurable:!1},one:{value:function(t,n){function r(){e.off(t,r),n.apply(e,arguments)}return e.on(t,r)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(i){for(var o,a=arguments.length-1,u=new Array(a),s=0;s<a;s++)u[s]=arguments[s+1];return t(i,function(t,i,a){o=r.call(n[t]||[],0);for(var s,f=0;s=o[f];++f)a&&s.ns!=a||s.apply(e,s.typed?[t].concat(u):u),o[f]!==s&&f--;n["*"]&&"*"!=t&&e.trigger.apply(e,["*",t].concat(u))}),e},enumerable:!1,writable:!1,configurable:!1}}),e},Ee=function(e){function t(e){return e}function n(e,t){return t||(t=m),new RegExp(e.source.replace(/{/g,t[2]).replace(/}/g,t[3]),e.global?f:"")}function r(e){if(e===h)return g;var t=e.split(" ");if(2!==t.length||/[\x00-\x1F<>a-zA-Z0-9'",;\\]/.test(e))throw new Error('Unsupported brackets "'+e+'"');return t=t.concat(e.replace(/(?=[[\]()*+?.^$|])/g,"\\").split(" ")),t[4]=n(t[1].length>1?/{[\S\s]*?}/:g[4],t),t[5]=n(e.length>3?/\\({|})/g:g[5],t),t[6]=n(g[6],t),t[7]=RegExp("\\\\("+t[3]+")|([[({])|("+t[3]+")|"+d,f),t[8]=e,t}function i(e){return e instanceof RegExp?u(e):m[e]}function o(e){(e||(e=h))!==m[8]&&(m=r(e),u=e===h?t:n,m[9]=u(g[9])),v=e}function a(e){var t;e=e||{},t=e.brackets,Object.defineProperty(e,"brackets",{set:o,get:function(){return v},enumerable:!0}),s=e,o(t)}var u,s,f="g",l=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,c=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,d=c.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,p={"(":RegExp("([()])|"+d,f),"[":RegExp("([[\\]])|"+d,f),"{":RegExp("([{}])|"+d,f)},h="{ }",g=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+d,f),h,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],v=e,m=[];return i.split=function(e,t,n){function r(e){t||a?f.push(e&&e.replace(n[5],"$1")):f.push(e)}function i(e,t,n){var r,i=p[t];for(i.lastIndex=n,n=1;(r=i.exec(e))&&(!r[1]||(r[1]===t?++n:--n)););return n?e.length:i.lastIndex}n||(n=m);var o,a,u,s,f=[],l=n[6];for(a=u=l.lastIndex=0;o=l.exec(e);){if(s=o.index,a){if(o[2]){l.lastIndex=i(e,o[2],l.lastIndex);continue}if(!o[3])continue}o[1]||(r(e.slice(u,s)),u=l.lastIndex,l=n[6+(a^=1)],l.lastIndex=u)}return e&&u<e.length&&r(e.slice(u)),f},i.hasExpr=function(e){return m[4].test(e)},i.loopKeys=function(e){var t=e.match(m[9]);return t?{key:t[1],pos:t[2],val:m[0]+t[3].trim()+m[1]}:{val:e.trim()}},i.array=function(e){return e?r(e):m},Object.defineProperty(i,"settings",{set:a,get:function(){return s}}),i.settings="undefined"!=typeof riot&&riot.settings||{},i.set=o,i.R_STRINGS=c,i.R_MLCOMMS=l,i.S_QBLOCKS=d,i}(),Le=function(){function e(e,r){return e?(a[e]||(a[e]=n(e))).call(r,t):e}function t(t,n){e.errorHandler&&(t.riotData={tagName:n&&n.root&&n.root.tagName,_riot_id:n&&n._riot_id},e.errorHandler(t))}function n(e){var t=r(e);return"try{return "!==t.slice(0,11)&&(t="return "+t),new Function("E",t+";")}function r(e){var t,n=[],r=Ee.split(e.replace(l,'"'),1);if(r.length>2||r[0]){var o,a,u=[];for(o=a=0;o<r.length;++o)t=r[o],t&&(t=1&o?i(t,1,n):'"'+t.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(u[a++]=t);t=a<2?u[0]:"["+u.join(",")+'].join("")'}else t=i(r[1],0,n);return n[0]&&(t=t.replace(c,function(e,t){return n[t].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),t}function i(e,t,n){function r(t,n){var r,i=1,o=d[t];for(o.lastIndex=n.lastIndex;r=o.exec(e);)if(r[0]===t)++i;else if(!--i)break;n.lastIndex=i?e.length:o.lastIndex}if(e=e.replace(f,function(e,t){return e.length>2&&!t?u+(n.push(e)-1)+"~":e}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var i,a=[],l=0;e&&(i=e.match(s))&&!i.index;){var c,p,h=/,|([[{(])|$/g;for(e=RegExp.rightContext,c=i[2]?n[i[2]].slice(1,-1).trim().replace(/\s+/g," "):i[1];p=(i=h.exec(e))[1];)r(p,h);p=e.slice(0,i.index),e=RegExp.rightContext,a[l++]=o(p,1,c)}e=l?l>1?"["+a.join(",")+'].join(" ").trim()':a[0]:o(e,t)}return e}function o(e,t,n){var r;return e=e.replace(h,function(e,t,n,i,o){return n&&(i=r?0:i+e.length,"this"!==n&&"global"!==n&&"window"!==n?(e=t+'("'+n+p+n,i&&(r="."===(o=o[i])||"("===o||"["===o)):i&&(r=!g.test(o.slice(i)))),e}),r&&(e="try{return "+e+"}catch(e){E(e,this)}"),n?e=(r?"function(){"+e+"}.call(this)":"("+e+")")+'?"'+n+'":""':t&&(e="function(v){"+(r?e.replace("return ","v="):"v=("+e+")")+';return v||v===0?v:""}.call(this)'),e}var a={};e.haveRaw=Ee.hasRaw,e.hasExpr=Ee.hasExpr,e.loopKeys=Ee.loopKeys,e.errorHandler=null;var u="⁗",s=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,f=RegExp(Ee.S_QBLOCKS,"g"),l=/\u2057/g,c=/\u2057(\d+)~/g,d={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},p='"in this?this:'+("object"!==("undefined"==typeof window?"undefined":ae(window))?"global":"window")+").",h=/[,{][$\w]+:|(^ *|[^$\w\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,g=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return e.parse=function(e){return e},e.version=Ee.version="v2.4.0",e}();i.prototype.update=function(){var e=Le(this.expr,this.parentTag);e&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=[],l(this.current,this.parentTag,this.expressions,!0)):!e&&this.current&&(B(this.expressions),this.current.parentNode.removeChild(this.current),this.current=null,this.expressions=[]),e&&n(this.expressions,this.parentTag)},i.prototype.unmount=function(){B(this.expressions||[]),delete this.pristine,delete this.parentNode,delete this.stub},o.prototype.update=function(){var e=this.rawValue;if(this.hasExp&&(e=Le(this.rawValue,this.parent)),this.firstRun||e!==this.value){var t=this.parent&&P(this.parent),n=this.tag||this.dom;!S(this.value)&&t&&te(t,this.value,n),S(e)?H(this.dom,this.attr):(t&&ee(t,e,n),k(this.dom,this.attr,e)),this.value=e,this.firstRun=!1}},o.prototype.unmount=function(){var e=this.tag||this.dom,t=this.parent&&P(this.parent);!S(this.value)&&t&&te(t,this.value,e),delete this.dom,delete this.parent};var Te,Oe,Me=/<yield\b/i,Se=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,He=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,je=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,Re={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},ke=_e&&_e<10?ye:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,Ie="div",Ae={},$e=Ae[fe]={},Pe=0,Be=0,Fe={},De=[];me&&(Te=function(){var e=X("style");k(e,"type","text/css");var t=J("style[type=riot]");return t?(t.id&&(e.id=t.id),t.parentNode.replaceChild(e,t)):document.getElementsByTagName("head")[0].appendChild(e),e}(),Oe=Te.styleSheet);var Ue={styleNode:Te,add:function(e,t){t?Fe[t]=e:De.push(e)},inject:function(){if(me){var e=Object.keys(Fe).map(function(e){return Fe[e]}).concat(De).join("\n");Oe?Oe.cssText=e:Te.innerHTML=e}}},Ve={tmpl:Le,brackets:Ee,styleManager:Ue,styleNode:Ue.styleNode},Ge=Ee.settings;e.util=Ve,e.settings=Ge,e.observable=Ce,e.vdom=ue,e.tag=g,e.tag2=v,e.mount=m,e.mixin=y,e.update=x,e.unregister=b,Object.defineProperty(e,"__esModule",{value:!0})});
=======
/* Riot v2.6.0, @license MIT */
!function(e,t){"use strict";function n(e,t,n){var r={};return r[e.key]=t,e.pos&&(r[e.pos]=n),r}function r(e,t){for(var n,r=t.length,o=e.length;r>o;)n=t[--r],t.splice(r,1),n.unmount()}function o(e,t){Object.keys(e.tags).forEach(function(n){var r=e.tags[n];R(r)?g(r,function(e){O(e,n,t)}):O(r,n,t)})}function i(e,t,n){var r,o=e._root;for(e._virts=[];o;)r=o.nextSibling,n?t.insertBefore(o,n._root):t.appendChild(o),e._virts.push(o),o=r}function a(e,t,n,r){for(var o,i=e._root,a=0;a<r;a++)o=i.nextSibling,t.insertBefore(i,n._root),i=o}function u(e,t,u){x(e,"each");var f,c=typeof _(e,"no-reorder")!==te||x(e,"no-reorder"),l=S(e),p=W[l]||{tmpl:m(e)},d=ue.test(l),g=e.parentNode,h=document.createTextNode(""),v=C(e),y="option"===l.toLowerCase(),b=[],w=[],N="VIRTUAL"==e.tagName;u=de.loopKeys(u),g.insertBefore(h,e),t.one("before-mount",function(){e.parentNode.removeChild(e),g.stub&&(g=t.root)}).on("update",function(){var m=de(u.val,t),x=document.createDocumentFragment();R(m)||(f=m||!1,m=f?Object.keys(m).map(function(e){return n(u,e,m[e])}):[]);for(var _=0,C=m.length;_<C;_++){var L=m[_],O=c&&typeof L==ne&&!f,T=w.indexOf(L),E=~T&&O?T:_,S=b[E];L=!f&&u.key?n(u,L,_):L,!O&&!S||O&&!~T||!S?(S=new s(p,{parent:t,isLoop:!0,hasImpl:!!W[l],root:d?g:e.cloneNode(),item:L},e.innerHTML),S.mount(),N&&(S._root=S.root.firstChild),_!=b.length&&b[_]?(N?i(S,g,b[_]):g.insertBefore(S.root,b[_].root),w.splice(_,0,L)):N?i(S,x):x.appendChild(S.root),b.splice(_,0,S),E=_):S.update(L,!0),E!==_&&O&&b[_]&&(N?a(S,g,b[_],e.childNodes.length):b[_].root.parentNode&&g.insertBefore(S.root,b[_].root),u.pos&&(S[u.pos]=_),b.splice(_,0,b.splice(E,1)[0]),w.splice(_,0,w.splice(E,1)[0]),!v&&S.tags&&o(S,_)),S._item=L,M(S,"_parent",t)}if(r(m,b),g.insertBefore(x,h),y&&le&&!g.multiple)for(var j=0;j<g.length;j++)if(g[j].__riot1374){g.selectedIndex=j,delete g[j].__riot1374;break}v&&(t.tags[l]=b),w=m.slice()})}function f(e,t,n,r){I(e,function(e){if(1==e.nodeType){if(e.isLoop=e.isLoop||e.parentNode&&e.parentNode.isLoop||_(e,"each")?1:0,n){var o=C(e);o&&!e.isLoop&&n.push(T(o,{root:e,parent:t},e.innerHTML,t))}e.isLoop&&!r||G(e,t,[])}})}function c(e,t,n){function r(e,t,r){de.hasExpr(t)&&n.push(j({dom:e,expr:t},r))}I(e,function(e){var n,o=e.nodeType;if(3==o&&"STYLE"!=e.parentNode.tagName&&r(e,e.nodeValue),1==o)return(n=_(e,"each"))?(u(e,t,n),!1):(g(e.attributes,function(t){var n=t.name,o=n.split("__")[1];if(r(e,t.value,{attr:o||n,bool:o}),o)return x(e,n),!1}),!C(e)&&void 0)})}function s(e,n,r){function o(){var e=_&&y?p:v||p;g(T.attributes,function(t){var n=t.value;m[w(t.name)]=de.hasExpr(n)?de(n,e):n}),g(Object.keys(I),function(t){m[w(t)]=de(I[t],e)})}function i(e){for(var t in C)typeof p[t]!==re&&k(p,t)&&(p[t]=e[t])}function a(e){g(Object.keys(e),function(t){var n=!fe.test(t)&&A(D,t);(typeof p[t]===re||n)&&(n||D.push(t),p[t]=e[t])})}function u(e){p.update(e,!0)}function s(e){if(g(O,function(t){t[e?"mount":"unmount"]()}),v){var t=e?"on":"off";y?v[t]("unmount",p.unmount):v[t]("update",u)[t]("unmount",p.unmount)}}var l,p=z.observable(this),m=K(n.opts)||{},v=n.parent,y=n.isLoop,_=n.hasImpl,C=$(n.item),L=[],O=[],T=n.root,S=T.tagName.toLowerCase(),I={},D=[];e.name&&T._tag&&T._tag.unmount(!0),this.isMounted=!1,T.isLoop=y,T._tag=this,M(this,"_riot_id",++Z),j(this,{parent:v,root:T,opts:m},C),M(this,"tags",{}),g(T.attributes,function(e){var t=e.value;de.hasExpr(t)&&(I[e.name]=t)}),l=ge(e.tmpl,r),M(this,"update",function(e,t){return e=$(e),y&&a(p.parent),e&&b(C)&&(i(e),C=e),j(p,e),o(),p.trigger("update",e),d(L,p),t&&p.parent?p.parent.one("updated",function(){p.trigger("updated")}):me(function(){p.trigger("updated")}),this}),M(this,"mixin",function(){return g(arguments,function(e){var t,n,r=[];e=typeof e===te?z.mixin(e):e,t=h(e)?new e:e;do r=r.concat(Object.getOwnPropertyNames(n||t));while(n=Object.getPrototypeOf(n||t));g(r,function(e){if("init"!=e){var n=Object.getOwnPropertyDescriptor(t,e),r=n&&(n.get||n.set);!p.hasOwnProperty(e)&&r?Object.defineProperty(p,e,n):p[e]=h(t[e])?t[e].bind(p):t[e]}}),t.init&&t.init.bind(p)()}),this}),M(this,"mount",function(){o();var t=z.mixin(X);if(t)for(var n in t)t.hasOwnProperty(n)&&p.mixin(t[n]);if(p._parent&&a(p._parent),e.fn&&e.fn.call(p,m),c(l,p,L),s(!0),e.attrs&&P(e.attrs,function(e,t){N(T,e,t)}),(e.attrs||_)&&c(p.root,p,L),p.parent&&!y||p.update(C),p.trigger("before-mount"),y&&!_)T=l.firstChild;else{for(;l.firstChild;)T.appendChild(l.firstChild);T.stub&&(T=v.root)}M(p,"root",T),y&&f(p.root,p.parent,null,!0),!p.parent||p.parent.isMounted?(p.isMounted=!0,p.trigger("mount")):p.parent.one("mount",function(){H(p.root)||(p.parent.isMounted=p.isMounted=!0,p.trigger("mount"))})}),M(this,"unmount",function(e){var n,r=T,o=r.parentNode,i=Q.indexOf(p);if(p.trigger("before-unmount"),~i&&Q.splice(i,1),o){if(v)n=E(v),R(n.tags[S])?g(n.tags[S],function(e,t){e._riot_id==p._riot_id&&n.tags[S].splice(t,1)}):n.tags[S]=t;else for(;r.firstChild;)r.removeChild(r.firstChild);e?(x(o,ee),x(o,J)):o.removeChild(r)}this._virts&&g(this._virts,function(e){e.parentNode&&e.parentNode.removeChild(e)}),p.trigger("unmount"),s(),p.off("*"),p.isMounted=!1,delete T._tag}),f(l,this,O)}function l(t,n,r,o){r[t]=function(t){var i,a=o._parent,u=o._item;if(!u)for(;a&&!u;)u=a._item,a=a._parent;t=t||e.event,k(t,"currentTarget")&&(t.currentTarget=r),k(t,"target")&&(t.target=t.srcElement),k(t,"which")&&(t.which=t.charCode||t.keyCode),t.item=u,n.call(o,t)===!0||/radio|check/.test(r.type)||(t.preventDefault&&t.preventDefault(),t.returnValue=!1),t.preventUpdate||(i=u?E(a):o,i.update())}}function p(e,t,n){e&&(e.insertBefore(n,t),e.removeChild(t))}function d(e,t){g(e,function(e,n){var r=e.dom,o=e.attr,i=de(e.expr,t),a=e.dom.parentNode;if(e.bool?i=!!i:null==i&&(i=""),e.value!==i){if(e.value=i,!o)return i+="",void(a&&("TEXTAREA"===a.tagName?(a.value=i,se||(r.nodeValue=i)):r.nodeValue=i));if("value"===o)return void(r.value!=i&&(r.value=i));if(x(r,o),h(i))l(o,i,r,t);else if("if"==o){var u=e.stub,f=function(){p(u.parentNode,u,r)},c=function(){p(r.parentNode,r,u)};i?u&&(f(),r.inStub=!1,H(r)||I(r,function(e){e._tag&&!e._tag.isMounted&&(e._tag.isMounted=!!e._tag.trigger("mount"))})):(u=e.stub=u||document.createTextNode(""),r.parentNode?c():(t.parent||t).one("updated",c),r.inStub=!0)}else"show"===o?r.style.display=i?"":"none":"hide"===o?r.style.display=i?"none":"":e.bool?(r[o]=i,i&&N(r,o,o),le&&"selected"===o&&"OPTION"===r.tagName&&(r.__riot1374=i)):(0===i||i&&typeof i!==ne)&&(U(o,Y)&&o!=J&&(o=o.slice(Y.length)),N(r,o,i))}})}function g(e,t){for(var n,r=e?e.length:0,o=0;o<r;o++)n=e[o],null!=n&&t(n,o)===!1&&o--;return e}function h(e){return typeof e===oe||!1}function m(e){if(e.outerHTML)return e.outerHTML;var t=D("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}function v(e,t){if(typeof e.innerHTML!=re)e.innerHTML=t;else{var n=(new DOMParser).parseFromString(t,"application/xml");e.appendChild(e.ownerDocument.importNode(n.documentElement,!0))}}function y(e){return~ce.indexOf(e)}function b(e){return e&&typeof e===ne}function x(e,t){e.removeAttribute(t)}function w(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})}function _(e,t){return e.getAttribute(t)}function N(e,t,n){var r=ae.exec(t);r&&r[1]?e.setAttributeNS(ie,r[1],n):e.setAttribute(t,n)}function C(e){return e.tagName&&W[_(e,ee)||_(e,J)||e.tagName.toLowerCase()]}function L(e,t,n){var r=n.tags[t];r?(R(r)||r!==e&&(n.tags[t]=[r]),A(n.tags[t],e)||n.tags[t].push(e)):n.tags[t]=e}function O(e,t,n){var r,o=e.parent;o&&(r=o.tags[t],R(r)?r.splice(n,0,r.splice(r.indexOf(e),1)[0]):L(e,t,o))}function T(e,t,n,r){var o=new s(e,t,n),i=S(t.root),a=E(r);return o.parent=a,o._parent=r,L(o,i,a),a!==r&&L(o,i,r),t.root.innerHTML="",o}function E(e){for(var t=e;!C(t.root)&&t.parent;)t=t.parent;return t}function M(e,t,n,r){return Object.defineProperty(e,t,j({value:n,enumerable:!1,writable:!1,configurable:!0},r)),e}function S(e){var t=C(e),n=_(e,"name"),r=n&&!de.hasExpr(n)?n:t?t.name:e.tagName.toLowerCase();return r}function j(e){for(var t,n=arguments,r=1;r<n.length;++r)if(t=n[r])for(var o in t)k(e,o)&&(e[o]=t[o]);return e}function A(e,t){return~e.indexOf(t)}function R(e){return Array.isArray(e)||e instanceof Array}function k(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return typeof e[t]===re||n&&n.writable}function $(e){if(!(e instanceof s||e&&typeof e.trigger==oe))return e;var t={};for(var n in e)fe.test(n)||(t[n]=e[n]);return t}function I(e,t){if(e){if(t(e)===!1)return;for(e=e.firstChild;e;)I(e,t),e=e.nextSibling}}function P(e,t){for(var n,r=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;n=r.exec(e);)t(n[1].toLowerCase(),n[2]||n[3]||n[4])}function H(e){for(;e;){if(e.inStub)return!0;e=e.parentNode}return!1}function D(e,t){return t?document.createElementNS("http://www.w3.org/2000/svg","svg"):document.createElement(e)}function F(e,t){return(t||document).querySelectorAll(e)}function B(e,t){return(t||document).querySelector(e)}function K(e){function t(){}return t.prototype=e,new t}function q(e){return _(e,"id")||_(e,"name")}function G(e,t,n){var r,o=q(e),i=function(i){A(n,o)||(r=R(i),i?(!r||r&&!A(i,e))&&(r?i.push(e):t[o]=[i,e]):t[o]=e)};o&&(de.hasExpr(o)?t.one("mount",function(){o=q(e),i(t[o])}):i(t[o]))}function U(e,t){return e.slice(0,t.length)===t}function V(e,t,n){var r=W[t],o=e._innerHTML=e._innerHTML||e.innerHTML;return e.innerHTML="",r&&e&&(r=new s(r,{root:e,opts:n},o)),r&&r.mount&&(r.mount(),A(Q,r)||Q.push(r)),r}var z={version:"v2.6.0",settings:{}},Z=0,Q=[],W={},X="__global_mixin",Y="riot-",J=Y+"tag",ee="data-is",te="string",ne="object",re="undefined",oe="function",ie="http://www.w3.org/1999/xlink",ae=/^xlink:(\w+)/,ue=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,fe=/^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|parent|opts|trigger|o(?:n|ff|ne))$/,ce=["altGlyph","animate","animateColor","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","filter","font","foreignObject","g","glyph","glyphRef","image","line","linearGradient","marker","mask","missing-glyph","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tref","tspan","use"],se=0|(e&&e.document||{}).documentMode,le=e&&!!e.InstallTrigger;z.observable=function(e){function t(e,t){for(var n=e.split(" "),r=n.length,o=0;o<r;o++){var i=n[o];i&&t(i,o)}}e=e||{};var n={},r=Array.prototype.slice;return Object.defineProperties(e,{on:{value:function(r,o){return"function"!=typeof o?e:(t(r,function(e,t){(n[e]=n[e]||[]).push(o),o.typed=t>0}),e)},enumerable:!1,writable:!1,configurable:!1},off:{value:function(r,o){return"*"!=r||o?t(r,function(e,t){if(o)for(var r,i=n[e],a=0;r=i&&i[a];++a)r==o&&i.splice(a--,1);else delete n[e]}):n={},e},enumerable:!1,writable:!1,configurable:!1},one:{value:function(t,n){function r(){e.off(t,r),n.apply(e,arguments)}return e.on(t,r)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(o){for(var i,a=arguments.length-1,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f+1];return t(o,function(t,o){i=r.call(n[t]||[],0);for(var a,f=0;a=i[f];++f)a.busy||(a.busy=1,a.apply(e,a.typed?[t].concat(u):u),i[f]!==a&&f--,a.busy=0);n["*"]&&"*"!=t&&e.trigger.apply(e,["*",t].concat(u))}),e},enumerable:!1,writable:!1,configurable:!1}}),e},function(t){function n(e){return e.split(/[\/?#]/)}function r(e,t){var n=new RegExp("^"+t[C](/\*/g,"([^/?#]+?)")[C](/\.\./,".*")+"$"),r=e.match(n);if(r)return r.slice(1)}function o(e,t){var n;return function(){clearTimeout(n),n=setTimeout(e,t)}}function i(e){g=o(l,1),M[_](L,g),M[_](O,g),S[_](k,p),e&&l(!0)}function a(){this.$=[],t.observable(this),I.on("stop",this.s.bind(this)),I.on("emit",this.e.bind(this))}function u(e){return e[C](/^\/|\/$/,"")}function f(e){return"string"==typeof e}function c(e){return(e||A.href)[C](b,"")}function s(e){return"#"==h[0]?(e||A.href||"").split(h)[1]||"":(A?c(e):e||"")[C](h,"")}function l(e){var t,n=0==D;if(!(E<=D)&&(D++,H.push(function(){var t=s();(e||t!=m)&&(I[T]("emit",t),m=t)}),n)){for(;t=H.shift();)t();D=0}}function p(e){if(!(1!=e.which||e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)){for(var t=e.target;t&&"A"!=t.nodeName;)t=t.parentNode;!t||"A"!=t.nodeName||t[N]("download")||!t[N]("href")||t.target&&"_self"!=t.target||t.href.indexOf(A.href.match(b)[0])==-1||t.href!=A.href&&(t.href.split("#")[0]==A.href.split("#")[0]||"#"!=h[0]&&0!==c(t.href).indexOf(h)||"#"==h[0]&&t.href.split(h)[0]!=A.href.split(h)[0]||!d(s(t.href),t.title||S.title))||e.preventDefault()}}function d(e,t,n){return j?(e=h+u(e),t=t||S.title,n?j.replaceState(null,t,e):j.pushState(null,t,e),S.title=t,P=!1,l(),P):I[T]("emit",s(e))}var g,h,m,v,y,b=/^.+?\/\/+[^\/]+/,x="EventListener",w="remove"+x,_="add"+x,N="hasAttribute",C="replace",L="popstate",O="hashchange",T="trigger",E=3,M="undefined"!=typeof e&&e,S="undefined"!=typeof document&&document,j=M&&history,A=M&&(j.location||M.location),R=a.prototype,k=S&&S.ontouchstart?"touchstart":"click",$=!1,I=t.observable(),P=!1,H=[],D=0;R.m=function(e,t,n){!f(e)||t&&!f(t)?t?this.r(e,t):this.r("@",e):d(e,t,n||!1)},R.s=function(){this.off("*"),this.$=[]},R.e=function(e){this.$.concat("@").some(function(t){var n=("@"==t?v:y)(u(e),u(t));if("undefined"!=typeof n)return this[T].apply(null,[t].concat(n)),P=!0},this)},R.r=function(e,t){"@"!=e&&(e="/"+u(e),this.$.push(e)),this.on(e,t)};var F=new a,B=F.m.bind(F);B.create=function(){var e=new a,t=e.m.bind(e);return t.stop=e.s.bind(e),t},B.base=function(e){h=e||"#",m=s()},B.exec=function(){l(!0)},B.parser=function(e,t){e||t||(v=n,y=r),e&&(v=e),t&&(y=t)},B.query=function(){var e={},t=A.href||m;return t[C](/[?&](.+?)=([^&]*)/g,function(t,n,r){e[n]=r}),e},B.stop=function(){$&&(M&&(M[w](L,g),M[w](O,g),S[w](k,p)),I[T]("stop"),$=!1)},B.start=function(e){$||(M&&("complete"==document.readyState?i(e):M[_]("load",function(){setTimeout(function(){i(e)},1)})),$=!0)},B.base(),B.parser(),t.route=B}(z);var pe=function(e){function t(e){return e}function n(e,t){return t||(t=b),new RegExp(e.source.replace(/{/g,t[2]).replace(/}/g,t[3]),e.global?c:"")}function r(e){if(e===m)return v;var t=e.split(" ");if(2!==t.length||d.test(e))throw new Error('Unsupported brackets "'+e+'"');return t=t.concat(e.replace(g,"\\").split(" ")),t[4]=n(t[1].length>1?/{[\S\s]*?}/:v[4],t),t[5]=n(e.length>3?/\\({|})/g:v[5],t),t[6]=n(v[6],t),t[7]=RegExp("\\\\("+t[3]+")|([[({])|("+t[3]+")|"+p,c),t[8]=e,t}function o(e){return e instanceof RegExp?u(e):b[e]}function i(e){(e||(e=m))!==b[8]&&(b=r(e),u=e===m?t:n,b[9]=u(v[9])),y=e}function a(e){var t;e=e||{},t=e.brackets,Object.defineProperty(e,"brackets",{set:i,get:function(){return y},enumerable:!0}),f=e,i(t)}var u,f,c="g",s=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,l=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,p=l.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,d=RegExp("[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),g=/(?=[[\]()*+?.^$|])/g,h={"(":RegExp("([()])|"+p,c),"[":RegExp("([[\\]])|"+p,c),"{":RegExp("([{}])|"+p,c)},m="{ }",v=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+p,c),m,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],y=e,b=[];return o.split=function(e,t,n){function r(e){t||a?c.push(e&&e.replace(n[5],"$1")):c.push(e)}function o(e,t,n){var r,o=h[t];for(o.lastIndex=n,n=1;(r=o.exec(e))&&(!r[1]||(r[1]===t?++n:--n)););return n?e.length:o.lastIndex}n||(n=b);var i,a,u,f,c=[],s=n[6];for(a=u=s.lastIndex=0;i=s.exec(e);){if(f=i.index,a){if(i[2]){s.lastIndex=o(e,i[2],s.lastIndex);continue}if(!i[3])continue}i[1]||(r(e.slice(u,f)),u=s.lastIndex,s=n[6+(a^=1)],s.lastIndex=u)}return e&&u<e.length&&r(e.slice(u)),c},o.hasExpr=function(e){return b[4].test(e)},o.loopKeys=function(e){var t=e.match(b[9]);return t?{key:t[1],pos:t[2],val:b[0]+t[3].trim()+b[1]}:{val:e.trim()}},o.array=function(e){return e?r(e):b},Object.defineProperty(o,"settings",{set:a,get:function(){return f}}),o.settings="undefined"!=typeof z&&z.settings||{},o.set=i,o.R_STRINGS=l,o.R_MLCOMMS=s,o.S_QBLOCKS=p,o}(),de=function(){function t(e,t){return e?(u[e]||(u[e]=r(e))).call(t,n):e}function n(e,n){t.errorHandler&&(e.riotData={tagName:n&&n.root&&n.root.tagName,_riot_id:n&&n._riot_id},t.errorHandler(e))}function r(e){var t=o(e);return"try{return "!==t.slice(0,11)&&(t="return "+t),new Function("E",t+";")}function o(e){var t,n=[],r=pe.split(e.replace(l,'"'),1);if(r.length>2||r[0]){var o,a,u=[];for(o=a=0;o<r.length;++o)t=r[o],t&&(t=1&o?i(t,1,n):'"'+t.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(u[a++]=t);t=a<2?u[0]:"["+u.join(",")+'].join("")'}else t=i(r[1],0,n);return n[0]&&(t=t.replace(p,function(e,t){return n[t].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),t}function i(e,t,n){function r(t,n){var r,o=1,i=d[t];for(i.lastIndex=n.lastIndex;r=i.exec(e);)if(r[0]===t)++o;else if(!--o)break;n.lastIndex=o?e.length:i.lastIndex}if(e=e.replace(s,function(e,t){return e.length>2&&!t?f+(n.push(e)-1)+"~":e}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var o,i=[],u=0;e&&(o=e.match(c))&&!o.index;){var l,p,g=/,|([[{(])|$/g;for(e=RegExp.rightContext,l=o[2]?n[o[2]].slice(1,-1).trim().replace(/\s+/g," "):o[1];p=(o=g.exec(e))[1];)r(p,g);p=e.slice(0,o.index),e=RegExp.rightContext,i[u++]=a(p,1,l)}e=u?u>1?"["+i.join(",")+'].join(" ").trim()':i[0]:a(e,t)}return e}function a(e,t,n){var r;return e=e.replace(h,function(e,t,n,o,i){return n&&(o=r?0:o+e.length,"this"!==n&&"global"!==n&&"window"!==n?(e=t+'("'+n+g+n,o&&(r="."===(i=i[o])||"("===i||"["===i)):o&&(r=!m.test(i.slice(o)))),e}),r&&(e="try{return "+e+"}catch(e){E(e,this)}"),n?e=(r?"function(){"+e+"}.call(this)":"("+e+")")+'?"'+n+'":""':t&&(e="function(v){"+(r?e.replace("return ","v="):"v=("+e+")")+';return v||v===0?v:""}.call(this)'),e}var u={};t.haveRaw=pe.hasRaw,t.hasExpr=pe.hasExpr,t.loopKeys=pe.loopKeys,t.clearCache=function(){u={}},t.errorHandler=null;var f="⁗",c=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,s=RegExp(pe.S_QBLOCKS,"g"),l=/\u2057/g,p=/\u2057(\d+)~/g,d={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},g='"in this?this:'+("object"!=typeof e?"global":"window")+").",h=/[,{][$\w]+(?=:)|(^ *|[^$\w\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,m=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return t.version=pe.version="v2.4.1",t}(),ge=function e(){function e(e,r){var o=e&&e.match(/^\s*<([-\w]+)/),i=o&&o[1].toLowerCase(),a=D("div",y(i));return e=n(e,r),f.test(i)?a=t(a,e,i):v(a,e),a.stub=!0,a}function t(e,t,n){var r="o"===n[0],o=r?"select>":"table>";if(e.innerHTML="<"+o+t.trim()+"</"+o,o=e.firstChild,r)o.selectedIndex=-1;else{var i=u[n];i&&1===o.childElementCount&&(o=B(i,o))}return o}function n(e,t){if(!r.test(e))return e;var n={};return t=t&&t.replace(i,function(e,t,r){return n[t]=n[t]||r,""}).trim(),e.replace(a,function(e,t,r){return n[t]||r||""}).replace(o,function(e,n){return t||n||""})}var r=/<yield\b/i,o=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,i=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,a=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,u={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},f=se&&se<10?ue:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;return e}(),he=function(t){if(!e)return{add:function(){},inject:function(){}};var n=function(){var e=D("style");N(e,"type","text/css");var t=B("style[type=riot]");return t?(t.id&&(e.id=t.id),t.parentNode.replaceChild(e,t)):document.getElementsByTagName("head")[0].appendChild(e),e}(),r=n.styleSheet,o="";return Object.defineProperty(t,"styleNode",{value:n,writable:!0}),{add:function(e){o+=e},inject:function(){o&&(r?r.cssText+=o:n.innerHTML+=o,o="")}}}(z),me=function(e){var t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame;if(!t||/iP(ad|hone|od).*OS 6/.test(e.navigator.userAgent)){var n=0;t=function(e){var t=Date.now(),r=Math.max(16-(t-n),0);setTimeout(function(){e(n=t+r)},r)}}return t}(e||{});z.util={brackets:pe,tmpl:de},z.mixin=function(){var e={},t=e[X]={},n=0;return function(r,o,i){if(b(r))return void z.mixin("__unnamed_"+n++,r,!0);var a=i?t:e;if(!o){if(typeof a[r]===re)throw new Error("Unregistered mixin: "+r);return a[r]}h(o)?(j(o.prototype,a[r]||{}),a[r]=o):a[r]=j(a[r]||{},o)}}(),z.tag=function(e,t,n,r,o){return h(r)&&(o=r,/^[\w\-]+\s?=/.test(n)?(r=n,n=""):r=""),n&&(h(n)?o=n:he.add(n)),e=e.toLowerCase(),W[e]={name:e,tmpl:t,attrs:r,fn:o},e},z.tag2=function(e,t,n,r,o){return n&&he.add(n),W[e]={name:e,tmpl:t,attrs:r,fn:o},e},z.mount=function(e,t,n){function r(e){var t="";return g(e,function(e){/[^-\w]/.test(e)||(e=e.trim().toLowerCase(),t+=",["+ee+'="'+e+'"],['+J+'="'+e+'"]')}),t}function o(){var e=Object.keys(W);return e+r(e)}function i(e){if(e.tagName){var r=_(e,ee)||_(e,J);t&&r!==t&&(r=t,N(e,ee,t),N(e,J,t));var o=V(e,r||e.tagName.toLowerCase(),n);o&&f.push(o)}else e.length&&g(e,i)}var a,u,f=[];if(he.inject(),b(t)&&(n=t,t=0),typeof e===te?("*"===e?e=u=o():e+=r(e.split(/, */)),a=e?F(e):[]):a=e,"*"===t){if(t=u||o(),a.tagName)a=F(t,a);else{var c=[];g(a,function(e){c.push(F(t,e))}),a=c}t=0}return i(a),f},z.update=function(){return g(Q,function(e){e.update()})},z.vdom=Q,z.Tag=s,typeof exports===ne?module.exports=z:typeof define===oe&&typeof define.amd!==re?define(function(){return z}):e.riot=z}("undefined"!=typeof window?window:void 0);
>>>>>>> dev
